{"version":3,"sources":["webpack://mylittlePressingCreneaux/../map-google-location/src/AppPopUpMap.vue?4773","webpack://mylittlePressingCreneaux/../map-google-location/src/AppPopUpMap.vue?5282","webpack://mylittlePressingCreneaux/../map-google-location/src/store/index.js","webpack://mylittlePressingCreneaux/../map-google-location/src/components/mapgoogle.vue?50ad","webpack://mylittlePressingCreneaux/../map-google-location/src/components/config.js","webpack://mylittlePressingCreneaux/../map-google-location/src/components/mapgoogle.vue","webpack://mylittlePressingCreneaux/../map-google-location/src/components/mapgoogle.vue?fc24","webpack://mylittlePressingCreneaux/../map-google-location/src/components/mapgoogle.vue?e2d4","webpack://mylittlePressingCreneaux/../map-google-location/src/AppPopUpMap.vue","webpack://mylittlePressingCreneaux/../map-google-location/src/AppPopUpMap.vue?1036","webpack://mylittlePressingCreneaux/../map-google-location/src/AppPopUpMap.vue?2850"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","configs","staticRenderFns","Vue","use","Vuex","Store","state","type_filtre","value","options","text","input_placeholder","input_text_button","titre_map","redirect_true","redirect_false","zone_valide","villes","bps","mapConfig","apiKey","libraries","mutations","actions","modules","staticClass","_v","_s","titre_popup","on","$event","micromodal","close","directives","name","rawName","expression","placeholder","domProps","target","composing","current_address","save_localisation_cookie","GoogleObejct","createGoogleObject","loader","Loader","version","Promise","resolv","load","then","google","catch","e","console","log","extractPathForPolygon","geoString","geojson","JSON","parse","points","features","geometry","coordinates","i","point","push","lat","lng","convertNewLineToArray","string","serach","split","map","item","trim","props","type","Object","required","display_marker","image","url_good","url_bad","data","id_html","config","list_box","lon","point_in_polygon","point_in_ville","point_in_box","valide_text","mounted","methods","openPopupMap","show","closePopupMap","getPlace","self","input","document","querySelector","componentRestrictions","types","strictBounds","maps","event","addListener","initMap","Map","setMarker","window","setTimeout","centerPosition","getCenter","city_on_map","obtenir_address_proche","buildpolygon","valide_selection","updateMap","place","panTo","location","check_if_new_adress_in_polygon","check_if_new_adress_in_villes","check_if_new_adress_in_box","latlng","LatLng","geocoder","geocode","status","results","formatted_address","getNameVilleFromPlace","marker","Marker","position","icon","localStorage","removeItem","alert","setItem","locality","route","etape_checkout","click","no_action_after","href","polygon","Polygon","path","geodesic","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","setMap","latLng","view","ar_ville","length","indexOf","ville","type_limitation","ville_in_box","address_components","components","long_name","component","store","mapgoogle","computed","openModal","$refs"],"mappings":"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","file":"mylittlePressingCreneaux.umd.min.2.js","sourcesContent":["export * from \"-!../../creneaux-reservation/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../creneaux-reservation/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../creneaux-reservation/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../creneaux-reservation/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../creneaux-reservation/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../creneaux-reservation/node_modules/vue-loader/lib/index.js??vue-loader-options!./AppPopUpMap.vue?vue&type=style&index=0&id=2ef9eade&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mapgoogle',{ref:\"mapgoogle\",attrs:{\"configs\":_vm.configs}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    configs: {\n      type_filtre: {\n        value: \"polygon_box\",\n        options: [\n          { text: \"Limité uniquement avec le polygon \", value: \"polygon\" },\n          {\n            text: \"Limité avec le polygon et les villes \",\n            value: \"polygon_ville\"\n          },\n          { text: \"Polygon avec les B.P.\", value: \"polygon_box\" }\n        ]\n      },\n      input_placeholder: {\n        value: \"Saisissez votre adresse\"\n      },\n      input_text_button: {\n        value: \"Je commande !\"\n      },\n      titre_map: {\n        value: \"Merci de confirmer votre adresse.\"\n      },\n      redirect_true: {\n        value: \"/pages/tarifs\"\n      },\n      redirect_false: {\n        value: \"/pages/map-error\"\n      },\n      zone_valide: {\n        value:\n          '{\"type\":\"FeatureCollection\",\"features\":[{\"type\":\"Feature\",\"properties\":{},\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[4.841194152832031,45.80367454985437],[4.836902618408202,45.810016615545685],[4.840335845947266,45.81564010746663],[4.836387634277343,45.82257895307966],[4.824542999267578,45.82413409295147],[4.826087951660156,45.83083266040038],[4.813385009765625,45.82939732095006],[4.807720184326172,45.832626782661535],[4.801025390625,45.84673852742612],[4.784889221191406,45.843151135002806],[4.774417877197266,45.84960827480199],[4.766349792480469,45.84924956447676],[4.748497009277344,45.87758055276022],[4.743690490722656,45.876743979429186],[4.731502532958984,45.850923526202244],[4.7218894958496085,45.850325688512264],[4.718799591064453,45.86789943388497],[4.719829559326172,45.87327804145782],[4.6973419189453125,45.861563961888706],[4.695110321044921,45.85833617968687],[4.687385559082031,45.86766037257888],[4.674167633056641,45.86658458397811],[4.667987823486328,45.857379763789915],[4.672794342041016,45.854749535250534],[4.668674468994141,45.84960827480199],[4.674510955810547,45.83944391979866],[4.666786193847656,45.82724424237223],[4.636402130126953,45.82257895307966],[4.632282257080078,45.81480260210369],[4.635715484619141,45.8051105524909],[4.656314849853516,45.79745144402688],[4.6561431884765625,45.7897912826699],[4.682750701904297,45.790150376254054],[4.679145812988281,45.77099548979183],[4.695453643798828,45.757343618424514],[4.709358215332031,45.759140108157524],[4.7138214111328125,45.7578226880087],[4.707298278808593,45.749079020680476],[4.710731506347656,45.73482270844982],[4.7261810302734375,45.73685954736049],[4.724636077880859,45.73398398848103],[4.7330474853515625,45.722240586293125],[4.772014617919922,45.72703410987784],[4.778537750244141,45.722240586293125],[4.803943634033203,45.722000899316875],[4.8125267028808585,45.74596450695352],[4.8168182373046875,45.748000939440544],[4.814414978027344,45.74488636556012],[4.812355041503906,45.73937553991511],[4.813899993896484,45.73518215600897],[4.814586639404297,45.7321866889887],[4.817333221435547,45.72931088949232],[4.818019866943359,45.7269142768011],[4.819908142089844,45.720203214218415],[4.822139739990234,45.716248103400375],[4.824886322021484,45.71313175830802],[4.831066131591796,45.71097418682745],[4.836387634277343,45.708576787494145],[4.8401641845703125,45.7077376734339],[4.840507507324219,45.71660767049757],[4.849262237548828,45.71828561969278],[4.854412078857421,45.719124575395526],[4.857501983642578,45.72799276523713],[4.882221221923827,45.721042141129054],[4.888401031494141,45.72355884628182],[4.8896026611328125,45.7271539426975],[4.893207550048828,45.7387765043515],[4.898700714111328,45.751953802189036],[4.917411804199219,45.74740199642105],[4.922904968261719,45.761774855141226],[4.904365539550781,45.773031008933344],[4.906082153320312,45.78380604900099],[4.882049560546875,45.7897912826699],[4.879302978515624,45.79565618817645],[4.872608184814453,45.7896715842944],[4.865398406982422,45.787277562802686],[4.855442047119141,45.787157859029],[4.852867126464844,45.78643963098876],[4.849605560302734,45.785362271577036],[4.846515655517578,45.783207490288774],[4.843769073486328,45.780573755608906],[4.8415374755859375,45.779137120616426],[4.824886322021484,45.785003147146114],[4.821624755859375,45.79146703293602],[4.825572967529297,45.794579006904314],[4.829349517822266,45.7964939814375],[4.838447570800781,45.79984502852525],[4.841194152832031,45.80367454985437]]]}}]}'\n      },\n      villes: {\n        value:\n          \"Lyon; Tassin-la-demi-Lune; Ecully; Champagne au Mont d'Or; Saint-Didier-au-Mont-d'Or; Charbonnières-les-Bains; Marcy-l'Etoile; Dardilly; Limonest; Dommartin; La Tour-de-Salvagny; Lentilly; Sainte Foy-Lès-Lyon; Francheville; Saint-Genis-les-Ollières; Sainte-Consorce; Lozanne; Civrieux-d'Azergues; Lissieu; Saint-Cyr-au-Mont-d'Or;\"\n      },\n      bps: {\n        value:\n          \"69005\\n69009\\n69160\\n69130\\n69410\\n69370\\n69260\\n69280\\n69570\\n69760\\n69380\\n69890\\n69210\\n69110\\n69340\\n69290\\n69280\\n69380\\n69380\\n69380\\n69450\\n69001\\n69002\\n69003\\n69004\\n69006\\n69007\\n69008\\n69100\"\n      },\n      mapConfig: {\n        apiKey: \"AIzaSyDurloZ0-xj8CNrQwkeSc53A-_n35Xji2Y\",\n        libraries: [\"places\", \"geometry\"]\n      }\n    }\n  },\n  mutations: {},\n  actions: {},\n  modules: {}\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"modal micromodal-slide\",attrs:{\"id\":\"map-popup-wbu\"}},[_c('div',{staticClass:\"modal__overlay\"},[_c('div',{staticClass:\"modal__container\",attrs:{\"role\":\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"modal-1-title\"}},[_c('header',{staticClass:\"modal__header\"},[_c('h2',{staticClass:\"modal__title\",attrs:{\"id\":\"modal-1-title\"}},[_vm._v(\" \"+_vm._s(_vm.titre_popup)+\" \")]),_c('a',{staticClass:\"modal__close\",attrs:{\"href\":\"#\",\"rel\":\"modal:close\"},on:{\"click\":function($event){return _vm.micromodal.close('map-popup-wbu')}}})]),_c('main',{staticClass:\"modal__content\",attrs:{\"id\":\"modal-1-content\"}},[_c('div',{staticClass:\"m-0 p-0 container-map\"},[_c('div',{attrs:{\"id\":\"map-display-wbu\"}}),_c('div',{staticClass:\"text-over-lay\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.current_address),expression:\"current_address\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder,\"id\":\"map-input-over\"},domProps:{\"value\":(_vm.current_address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.current_address=$event.target.value}}})]),_c('div',{staticClass:\"center-marker\"}),_c('div',{staticClass:\"address-confirm\"},[_c('button',{staticClass:\"btn btn-lg bg-cl1\",on:{\"click\":_vm.save_localisation_cookie}},[_vm._v(\" Confirmer l'adresse \")])])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Loader } from \"@googlemaps/js-api-loader\";\nexport default {\n  apiKey: \"AIzaSyDurloZ0-xj8CNrQwkeSc53A-_n35Xji2Y\",\n  GoogleObejct: null,\n  /**\n   * On charge la map\n   */\n  createGoogleObject() {\n    const loader = new Loader({\n      apiKey: this.apiKey,\n      version: \"weekly\",\n      libraries: [\"places\", \"geometry\"]\n    });\n    return new Promise(resolv => {\n      loader\n        .load()\n        .then(google => {\n          this.GoogleObejct = google;\n          resolv(google);\n        })\n        .catch(e => {\n          console.log(\"Erreur initialisation de la MAP : \", e);\n        });\n    });\n  },\n  extractPathForPolygon(geoString) {\n    const geojson = JSON.parse(geoString);\n    const points = [];\n    if (\n      geojson.features &&\n      geojson.features[0] &&\n      geojson.features[0].geometry &&\n      geojson.features[0].geometry.coordinates\n    ) {\n      for (const i in geojson.features[0].geometry.coordinates[0]) {\n        const point = geojson.features[0].geometry.coordinates[0][i];\n        points.push({ lat: point[1], lng: point[0] });\n      }\n    }\n    return points;\n  },\n  /**\n   * Permet de slpit and trim chaque elment;\n   * @param {*} string\n   */\n  convertNewLineToArray(string, serach = \"\\n\") {\n    return string.split(serach).map(item => item.trim());\n  }\n};\n","<!--\n    S'ouvre par defaut dans une popup.\n-->\n<template>\n  <div>\n    <!-- https://micromodal.vercel.app/ -->\n    <section class=\"modal micromodal-slide\" id=\"map-popup-wbu\">\n      <div class=\"modal__overlay\">\n        <div\n          class=\"modal__container\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"modal-1-title\"\n        >\n          <header class=\"modal__header\">\n            <h2 class=\"modal__title\" id=\"modal-1-title\">\n              {{ titre_popup }}\n            </h2>\n            <a\n              href=\"#\"\n              class=\"modal__close\"\n              rel=\"modal:close\"\n              @click=\"micromodal.close('map-popup-wbu')\"\n            ></a>\n          </header>\n          <main class=\"modal__content\" id=\"modal-1-content\">\n            <div class=\"m-0 p-0 container-map\">\n              <div id=\"map-display-wbu\"></div>\n              <div class=\"text-over-lay\">\n                <input\n                  class=\"form-control\"\n                  type=\"text\"\n                  v-model=\"current_address\"\n                  :placeholder=\"placeholder\"\n                  id=\"map-input-over\"\n                />\n              </div>\n              <div class=\"center-marker\"></div>\n              <div class=\"address-confirm\">\n                <button\n                  class=\"btn btn-lg bg-cl1\"\n                  @click=\"save_localisation_cookie\"\n                >\n                  Confirmer l'adresse\n                </button>\n              </div>\n            </div>\n          </main>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport config from \"./config.js\";\n//import modalLite from \"modal-lite\";\nimport micromodal from \"micromodal\";\n\n//import axios from \"axios\";\nexport default {\n  name: \"Mapgoogle\",\n  props: {\n    configs: {\n      type: Object,\n      required: true\n    },\n    display_marker: { type: Boolean, default: true },\n    image: { type: String, default: \"/localisation/img/marker.png\" },\n    url_good: { type: String, default: \"/cart\" },\n    url_bad: { type: String, default: \"/pages/map-error\" }\n  },\n  data() {\n    return {\n      id_html: \"map-google-field\",\n      villes: config.convertNewLineToArray(this.configs.villes.value, \";\"),\n      list_box: config.convertNewLineToArray(this.configs.bps.value),\n      micromodal: micromodal,\n      map: null,\n      lat: 45.7941459,\n      lon: 4.68941940000002,\n      point_in_polygon: false,\n      point_in_ville: false,\n      point_in_box: false,\n      titre_popup: \"Merci de confirmer votre adresse\",\n      current_address: \"\",\n      valide_text: \"Commander maintenant\",\n      placeholder: \"Entrez votre adresse\"\n    };\n  },\n  mounted() {\n    this.point_in_box = false;\n    this.point_in_polygon = false;\n    this.point_in_ville = false;\n    this.createGoogleObject();\n  },\n  methods: {\n    openPopupMap() {\n      this.micromodal.show(\"map-popup-wbu\");\n    },\n    closePopupMap() {\n      this.micromodal.close(\"map-popup-wbu\");\n    },\n    /**\n     * On charge la map\n     */\n    createGoogleObject() {\n      config.createGoogleObject().then(google => {\n        this.GoogleObejct = google;\n        this.getPlace();\n        this.initMap();\n        this.geocoder = new this.GoogleObejct.maps.Geocoder();\n      });\n    },\n    /**\n     * Permet d'ajouter la recherche de ville sur le champs qui est rattaché.\n     */\n    getPlace() {\n      var self = this;\n      /**\n       * Pour obtenir les coordonnées\n       * https://www.mapcoordinates.net/fr\n       */\n      var input = document.querySelector(\"#map-input-over\");\n      this.options = {\n        componentRestrictions: { country: [\"fr\"] },\n        types: [\"address\"],\n        strictBounds: true\n      };\n\n      const autocomplete = new this.GoogleObejct.maps.places.Autocomplete(\n        input,\n        this.options\n      );\n      this.GoogleObejct.maps.event.addListener(\n        autocomplete,\n        \"place_changed\",\n        function() {\n          var place = autocomplete.getPlace();\n\n          if (place && place.formatted_address) {\n            self.current_address = place.formatted_address;\n            self.city_on_map = place.vicinity;\n            self.updateMap(place);\n            self.openPopupMap();\n          }\n        }\n      );\n    },\n    initMap() {\n      var self = this;\n      var lat = this.lat;\n      var lon = this.lon;\n      // CrÃ©er l'objet \"map\" et l'insÃ¨rer dans l'Ã©lÃ©ment HTML qui a l'ID \"map\"\n      this.map = new this.GoogleObejct.maps.Map(\n        document.getElementById(\"map-display-wbu\"),\n        {\n          // Nous plaÃ§ons le centre de la carte avec les coordonnÃ©es ci-dessus\n          center: new this.GoogleObejct.maps.LatLng(lat, lon),\n          // Nous dÃ©finissons le zoom par dÃ©faut\n          zoom: 17,\n          // Nous dÃ©finissons le type de carte (ici carte routiÃ¨re)\n          mapTypeId: this.GoogleObejct.maps.MapTypeId.ROADMAP,\n          // Nous activons les options de contrÃ´le de la carte (plan, satellite...)\n          mapTypeControl: false,\n          // Nous dÃ©sactivons la roulette de souris\n          scrollwheel: false,\n\n          mapTypeControlOptions: {\n            // Cette option sert Ã  dÃ©finir comment les options se placent\n            style: this.GoogleObejct.maps.MapTypeControlStyle.HORIZONTAL_BAR\n          },\n\n          // Activation des options de navigation dans la carte (zoom...)\n          navigationControl: false,\n          panControl: false,\n          zoomControl: true,\n          streetViewControl: false,\n          fullscreenControl: false,\n\n          navigationControlOptions: {\n            // Comment ces options doivent-elles s'afficher\n            style: this.GoogleObejct.maps.NavigationControlStyle.ZOOM_PAN\n          },\n          styles: [\n            //desactive les localisations.\n            /*\n          \t{\n              featureType: 'poi',\n              elementType: 'labels.icon',\n              stylers: [\n                {visibility: 'off'}\n              ]\n            },\n            */\n            // couleur du texte.\n            /*\n          \t{\n              featureType: 'poi',\n              elementType: 'labels.text.fill',\n              stylers: [\n              \t{color: '#ffffff'}\n              ]\n            },\n            */\n            {\n              featureType: \"poi\",\n              elementType: \"labels.text.stroke\",\n              stylers: [{ visibility: \"off\" }]\n            },\n            {\n              featureType: \"landscape.natural\",\n              elementType: \"geometry\",\n              stylers: [{ color: \"#b8cb92\" }]\n            },\n            {\n              featureType: \"landscape.man_made\",\n              elementType: \"geometry\",\n              stylers: [{ color: \"#ece2d9\" }]\n            },\n            {\n              featureType: \"road\",\n              elementType: \"geometry\",\n              stylers: [{ color: \"#ffffff\" }]\n            },\n            {\n              featureType: \"road.highway\",\n              elementType: \"labels\",\n              stylers: [{ visibility: \"off\" }]\n            }\n          ]\n        }\n      );\n      this.setMarker();\n      this.map.addListener(\"dragend\", function() {\n        window.setTimeout(function() {\n          var centerPosition = self.map.getCenter();\n          if (centerPosition) {\n            self.lat = centerPosition.lat();\n            self.lon = centerPosition.lng();\n            self.city_on_map = \"\";\n\n            self.obtenir_address_proche();\n          }\n        }, 1000);\n      });\n      this.buildpolygon();\n      this.valide_selection();\n    },\n    updateMap: function(place) {\n      if (place.geometry) {\n        this.map.panTo(place.geometry.location);\n        this.lat = place.geometry.location.lat();\n        this.lon = place.geometry.location.lng();\n        this.setMarker();\n        this.valide_selection();\n      }\n    },\n    valide_selection() {\n      this.check_if_new_adress_in_polygon();\n      this.check_if_new_adress_in_villes();\n      this.check_if_new_adress_in_box();\n    },\n    obtenir_address_proche() {\n      var self = this;\n      var latlng = new this.GoogleObejct.maps.LatLng(this.lat, this.lon);\n      this.geocoder.geocode({ location: latlng }, function(results, status) {\n        if (status == \"OK\") {\n          self.current_address = results[0].formatted_address;\n          self.updateMap(results[0]);\n          self.getNameVilleFromPlace(results[0]);\n        }\n      });\n    },\n    setMarker() {\n      if (!this.display_marker) {\n        return false;\n      }\n      var self = this;\n      var lat = this.lat;\n      var lon = this.lon;\n      // Nous ajoutons un marqueur\n      this.marker = new this.GoogleObejct.maps.Marker({\n        position: { lat: lat, lng: lon },\n        map: self.map,\n        icon: this.image\n      });\n    },\n    save_localisation_cookie() {\n      if (this.current_address == \"\") {\n        localStorage.removeItem(\"wbu_localisation_map\");\n        alert(\"Vous devez definir une adresse\");\n        return false;\n      }\n      if (this.point_in_polygon && this.point_in_ville && this.point_in_box) {\n        localStorage.setItem(\n          \"wbu_localisation_map\",\n          JSON.stringify(this.current_address)\n        );\n        localStorage.setItem(\n          \"wbu_localisation_city\",\n          JSON.stringify(this.city_on_map)\n        );\n        localStorage.setItem(\"wbu_locality\", this.locality);\n        localStorage.setItem(\"wbu_route\", this.route);\n        // IMPORTANT;\n        //$(document).trigger(\"adresseUpdate\");\n        if (!this.etape_checkout) {\n          window.location.href = this.url_good;\n        } else {\n          document.querySelector(\".modal__close\").click();\n          if (!this.no_action_after) {\n            document.querySelector(\".button.cart-checkout-custom\").click();\n          }\n        }\n      } else {\n        localStorage.removeItem(\"wbu_localisation_map\");\n        localStorage.removeItem(\"wbu_localisation_city\");\n        // IMPORANT;\n        //$(document).trigger(\"adresseUpdate\");\n        window.location.href = this.url_bad;\n      }\n    },\n    buildpolygon() {\n      this.polygon = new this.GoogleObejct.maps.Polygon({\n        path: config.extractPathForPolygon(this.configs.zone_valide.value),\n        geodesic: true,\n        strokeColor: \"#48a0d9\",\n        strokeOpacity: 0.4,\n        strokeWeight: 4,\n        fillColor: \"#48a0d9\",\n        fillOpacity: 0.03\n      });\n      this.polygon.setMap(this.map);\n    },\n    check_if_new_adress_in_polygon() {\n      var latLng = new this.GoogleObejct.maps.LatLng(this.lat, this.lon);\n      if (\n        this.GoogleObejct.maps.geometry.poly.containsLocation(\n          latLng,\n          this.polygon\n        )\n      ) {\n        this.point_in_polygon = true;\n      } else {\n        this.point_in_polygon = false;\n      }\n    },\n    check_if_new_adress_in_villes() {\n      const ville_in_name = () => {\n        var view = false;\n        if (this.current_address && this.current_address.length > 0) {\n          var ar_ville = this.current_address.split(\",\");\n          if (ar_ville[1].length > 0) {\n            this.villes.forEach(ville => {\n              if (ar_ville[1].indexOf(ville) >= 0) {\n                view = true;\n              }\n            });\n          }\n        }\n        return view;\n      };\n      //Check if is valide\n      if (this.type_limitation != \"polygon_ville\") {\n        this.point_in_ville = true;\n        return false;\n      }\n      if (this.villes.indexOf(this.city_on_map) >= 0) {\n        this.point_in_ville = true;\n        return true;\n      } else if (ville_in_name()) {\n        this.point_in_ville = true;\n        return true;\n      } else {\n        this.point_in_ville = false;\n      }\n    },\n    /**\n     * -\n     */\n    check_if_new_adress_in_box() {\n      const ville_in_box = () => {\n        var view = false;\n        if (this.current_address && this.current_address.length > 0) {\n          if (this.current_address) {\n            this.list_box.forEach(box => {\n              if (this.current_address.indexOf(box) >= 0) {\n                view = true;\n              }\n            });\n          }\n        }\n        return view;\n      };\n      if (this.type_limitation != \"polygon_box\") {\n        this.point_in_box = true;\n        return false;\n      }\n      if (ville_in_box()) {\n        this.point_in_box = true;\n        return true;\n      } else {\n        this.point_in_box = false;\n        return true;\n      }\n    },\n    /**\n     * -\n     */\n    getNameVilleFromPlace: function(place) {\n      var route = \"\";\n      var locality = \"\";\n      if (place.address_components) {\n        for (const i in place.address_components) {\n          var components = place.address_components[i];\n          if (\n            components.types &&\n            components.types.includes(\"locality\") &&\n            locality == \"\"\n          ) {\n            locality = components.long_name;\n          }\n          if (\n            components.types &&\n            components.types.includes(\"route\") &&\n            route == \"\"\n          ) {\n            route = components.long_name;\n          }\n        }\n        this.route = route;\n        this.locality = locality;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../creneaux-reservation/node_modules/thread-loader/dist/cjs.js!../../../creneaux-reservation/node_modules/babel-loader/lib/index.js!../../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../creneaux-reservation/node_modules/vue-loader/lib/index.js??vue-loader-options!./mapgoogle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../creneaux-reservation/node_modules/thread-loader/dist/cjs.js!../../../creneaux-reservation/node_modules/babel-loader/lib/index.js!../../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../creneaux-reservation/node_modules/vue-loader/lib/index.js??vue-loader-options!./mapgoogle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mapgoogle.vue?vue&type=template&id=76c7d7a8&\"\nimport script from \"./mapgoogle.vue?vue&type=script&lang=js&\"\nexport * from \"./mapgoogle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../creneaux-reservation/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <mapgoogle ref=\"mapgoogle\" :configs=\"configs\"> </mapgoogle>\n</template>\n\n<script>\nimport store from \"./store\";\nimport { mapState } from \"vuex\";\nimport mapgoogle from \"./components/mapgoogle.vue\";\nexport default {\n  name: \"AppPopUpMap\",\n  store,\n  components: {\n    mapgoogle\n  },\n  computed: {\n    ...mapState([\"configs\"])\n  },\n  methods: {\n    openModal() {\n      this.$refs.mapgoogle.openPopupMap();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./components/scss/micromodal.scss\";\n</style>\n","import mod from \"-!../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../creneaux-reservation/node_modules/thread-loader/dist/cjs.js!../../creneaux-reservation/node_modules/babel-loader/lib/index.js!../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../creneaux-reservation/node_modules/vue-loader/lib/index.js??vue-loader-options!./AppPopUpMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../creneaux-reservation/node_modules/thread-loader/dist/cjs.js!../../creneaux-reservation/node_modules/babel-loader/lib/index.js!../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../creneaux-reservation/node_modules/vue-loader/lib/index.js??vue-loader-options!./AppPopUpMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppPopUpMap.vue?vue&type=template&id=2ef9eade&scoped=true&\"\nimport script from \"./AppPopUpMap.vue?vue&type=script&lang=js&\"\nexport * from \"./AppPopUpMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppPopUpMap.vue?vue&type=style&index=0&id=2ef9eade&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../creneaux-reservation/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ef9eade\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}