{"version":3,"sources":["webpack://creneauxMylittlepressing/./src/App/components/creneau/calendar.vue?3e69","webpack://creneauxMylittlepressing/./src/App/components/creneau/calendar.vue?69e4","webpack://creneauxMylittlepressing/../map-google-location/src/AppPopUpMap.vue?45a1","webpack://creneauxMylittlepressing/./src/App/UserCreneau.vue?a0a3","webpack://creneauxMylittlepressing/./src/App/components/creneau/Hours.vue?5db0","webpack://creneauxMylittlepressing/./src/App/components/creneau/Hours.vue?9bec","webpack://creneauxMylittlepressing/../map-google-location/src/AppPopUpMap.vue?4a7e","webpack://creneauxMylittlepressing/./src/App/UserCreneau.vue?3fc7","webpack://creneauxMylittlepressing/src/App/components/creneau/AppTitle.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/AppTitle.vue?8074","webpack://creneauxMylittlepressing/./src/App/components/creneau/AppTitle.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/InlineDescription.vue?229a","webpack://creneauxMylittlepressing/src/App/components/creneau/InlineDescription.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/InlineDescription.vue?6198","webpack://creneauxMylittlepressing/./src/App/components/creneau/InlineDescription.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/TabOption.vue?6b88","webpack://creneauxMylittlepressing/src/App/components/creneau/TabOption.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/TabOption.vue?2d94","webpack://creneauxMylittlepressing/./src/App/components/creneau/TabOption.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/map-google.vue?b0bb","webpack://creneauxMylittlepressing/../map-google-location/src/AppPopUpMap.vue?e875","webpack://creneauxMylittlepressing/../map-google-location/src/components/mapgoogle.vue?6a35","webpack://creneauxMylittlepressing/../map-google-location/src/components/config.js","webpack://creneauxMylittlepressing/../map-google-location/src/components/mapgoogle.vue","webpack://creneauxMylittlepressing/../map-google-location/src/components/mapgoogle.vue?fc24","webpack://creneauxMylittlepressing/../map-google-location/src/components/mapgoogle.vue?e2d4","webpack://creneauxMylittlepressing/../map-google-location/src/AppPopUpMap.vue","webpack://creneauxMylittlepressing/../map-google-location/src/AppPopUpMap.vue?1036","webpack://creneauxMylittlepressing/../map-google-location/src/AppPopUpMap.vue?2850","webpack://creneauxMylittlepressing/src/App/components/creneau/map-google.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/map-google.vue?6f16","webpack://creneauxMylittlepressing/./src/App/components/creneau/map-google.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/creneau.vue?8bdb","webpack://creneauxMylittlepressing/./src/App/components/creneau/Hours.vue?fdf6","webpack://creneauxMylittlepressing/./src/App/components/creneau/js/filtre.js","webpack://creneauxMylittlepressing/./src/App/components/creneau/js/filterHours.js","webpack://creneauxMylittlepressing/./src/App/components/creneau/js/hours.js","webpack://creneauxMylittlepressing/src/App/components/creneau/Hours.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/Hours.vue?bc44","webpack://creneauxMylittlepressing/./src/App/components/creneau/Hours.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/calendar.vue?ff8e","webpack://creneauxMylittlepressing/./src/App/components/creneau/js/calendar.js","webpack://creneauxMylittlepressing/src/App/components/creneau/calendar.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/calendar.vue?1097","webpack://creneauxMylittlepressing/./src/App/components/creneau/calendar.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/SvgCalandar.vue?560b","webpack://creneauxMylittlepressing/src/App/components/creneau/SvgCalandar.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/SvgCalandar.vue?daae","webpack://creneauxMylittlepressing/./src/App/components/creneau/SvgCalandar.vue","webpack://creneauxMylittlepressing/src/App/components/creneau/creneau.vue","webpack://creneauxMylittlepressing/./src/App/components/creneau/creneau.vue?66ce","webpack://creneauxMylittlepressing/./src/App/components/creneau/creneau.vue","webpack://creneauxMylittlepressing/./src/App/js/defaultOptions.js","webpack://creneauxMylittlepressing/./src/App/js/shopifyCart.js","webpack://creneauxMylittlepressing/src/App/UserCreneau.vue","webpack://creneauxMylittlepressing/./src/App/UserCreneau.vue?5c38","webpack://creneauxMylittlepressing/./src/App/UserCreneau.vue","webpack://creneauxMylittlepressing/./src/App/UserCreneau.vue?ab44"],"names":["apiKey","GoogleObejct","createGoogleObject","loader","Loader","version","libraries","Promise","resolv","load","then","google","catch","e","console","log","extractPathForPolygon","geoString","geojson","JSON","parse","points","features","geometry","coordinates","i","point","push","lat","lng","convertNewLineToArray","string","serach","split","map","item","trim","filtre","dateMonth","type","creneauConfigs","currentCreneauType","creneauFilters","type_disabled","IndexDayDisabled","DaysDisabledDate","DaysDisabledPeriode","location","store","state","days","setDaysDisabled","length","filter","setDaysDisabledDate","date_desactivee","pobox","setDaysDisabledPeriode","periode_desactivee","forEach","value","indice","inBox","current_address","b","includes","date","debut","fin","resolvEnd","diff","day","statusDate","format","p","p_d","moment","p_f","ii","parseInt","status","custom_class","select","date_string","filterHours","Filter","dateBegin","h_debut","h_fin","d","f","set","hour","minute","second","dateEnd","filterDate","ValidationDay","dayValid","c_min","c_max","loop","c_min_1","c_min_2","c_max_1","c_max_2","jours_select","Hours","list_creneaux","rebuildFilter","getCurrentBandHour","h_min","h_max","dateMin","dateMax","addCreneau","endCreneau","add","creneau","checkIsDisabled","bloc_date","begin","end","$isDisabled","checkstatus","delai_next_creneau","calendar","appDate","currentDate","currentMonth","month","currentYear","year","dates","CountDecallageAppliquer","delai","nombreSemaine","premierJourMois","indiceDuPremierJourDumois","daysInMonth","DernierJourMois","j","Filtre","pre_jour","stateValidationDay","DisabledBydelai","last_jour","next_jour","show_cover","cart","creneauTypes","creneauType","CartTypeLivraison","TypeLivraison","show_alert","creneauCollecte","creneauLivraison","alert_attribut_class","ShopifyFormatMoney","cents","placeholderRegex","formatString","money_format","replace","defaultOption","opt","def","formatWithDelimiters","number","precision","thousands","decimal","isNaN","toFixed","parts","dollars","match","addProduct","id_product","qte","reject","AjaxBasic","post","id","quantity","resp","verification","alert_message","VerificationCrenaux","test2","VerificationAddress","test3","ValidationMontant","test4","livraison","collecte","montantMin","parseFloat","montant_min","str","regex","found","int","exec","attr","undefined","total_price","text_alert_montant_min","buildAttribut","z_collecte_date","z_collecte_heure","z_livraison_date","z_livraison_heure","attributes","localisation","recuperation","SaveAttributeCart","datas","r","isLocalDev","saveOnExternalServer","params","shop","window","ShopId","triggerCheckout","document","querySelector","click","deleteUpdateProduct","new_product","resolve","product","updates","TestDomain","defaultOptions","initcreneau","prefertCartProductLivraison","HideStaticLoading","loadcart","status_cart","getProductType","apply_type_livraison_by_id","addDefaultProductTypeLivraison","setEvant","get","data","item_count","typeLivraisonIds","items","ids","dispatch","bt","classList","addEventListener","remove","SaveCreneau","elem","test","attribut","app_env_prod"],"mappings":"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4BA,iBACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,2CAFA;AAGA;AAAA;AAAA;AAHA,SArBA,EA0BA;AACA,0CADA;AAEA,iCAFA;AAGA;AAAA;AAAA;AAHA,SA1BA,EA+BA;AACA,2CADA;AAEA,iCAFA;AAGA;AAAA;AAAA;AAHA,SA/BA,EAoCA;AACA,6BADA;AAEA,iCAFA;AAGA;AAAA;AAAA;AAHA,SApCA,EAyCA;AACA,qCADA;AAEA,+BAFA;AAGA;AAAA;AAAA;AAHA,SAzCA;AA5BA,OAFA;AA+EA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,SATA,EASA,IATA;AAUA,OAXA;AAYA;AACA;AACA,KAxJA;AAyJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjKA;AAkKA,oBAlKA,8BAkKA;AACA;AACA;AACA;AACA,KAtKA;AAuKA,0BAvKA,oCAuKA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,KAjLA;AAkLA,aAlLA,uBAkLA;AACA;AACA;AACA;;AACA;AACA;AACA,yBANA,CAOA;;AACA;AACA;AAAA;AAAA;AAAA,SADA;AAEA,qBAFA;AAGA;AAHA;AAKA,KA/LA;AAgMA,4BAhMA,sCAgMA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CADA;AAEA,uCAFA;AAGA,iCAHA;AAIA;AAJA;AAMA;AACA,gDApBA,CAqBA;AACA;;AACA;AACA;AACA,SAFA,MAEA;AACA;;AACA;AACA;AACA;AACA;AACA,OA/BA,MA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9OA;;AA+OA;AACA;AACA;AACA,gBAlPA,0BAkPA;AACA;AACA,0EADA;AAEA,sBAFA;AAGA,8BAHA;AAIA,0BAJA;AAKA,uBALA;AAMA,4BANA;AAOA;AAPA;AASA;AACA,KA7PA;AA8PA,kCA9PA,4CA8PA;AACA;;AACA,UACA,sDACA,MADA,EAEA,YAFA,CADA,EAKA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA,KA1QA;AA2QA,iCA3QA,2CA2QA;AAAA;;AACA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA,aAJA;AAKA;AACA;;AACA;AACA,OAbA,CADA,CAeA;;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KAxSA;;AAySA;AACA;AACA;AACA,8BA5SA,wCA4SA;AAAA;;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAJA;AAKA;AACA;;AACA;AACA,OAZA;;AAaA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KArUA;;AAsUA;AACA;AACA;AACA,yBAzUA,iCAyUA,KAzUA,EAyUA;AACA;AACA;;AACA;AACA;AACA;;AACA,cACA,oBACA,qCADA,IAEA,cAHA,EAIA;AACA;AACA;;AACA,cACA,oBACA,kCADA,IAEA,WAHA,EAIA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AAjWA;AA/CA,G;;AC3D2b,CAAgB,kHAAG,EAAC,C;;ACAvX;AAC3B;AACL;;;AAGxD;AACkH;AAClH,IAAI,mBAAS,GAAG,8CAAU;AAC1B,EAAE,4CAAM;AACR,EAAE,6CAAM;AACR,EAAE,sDAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,iEAAS,Q;;;;;;;;;;;;;;ACNxB;AACA;AACA;AACA;AACA,qBADA;AAEA,iCAFA;AAGA;AACA;AACA,mBADA;AAEA;AAFA,KADA;AAKA;AACA,mBADA;AAEA;AAFA;AALA,GAHA;AAaA;AACA;AADA,GAbA;AAgBA,yDACA,sDADA,CAhBA;AAoBA;AACA,aADA,uBACA;AACA;AACA,KAHA;AAIA,mBAJA,2BAIA,CAJA,EAIA;AACA;AACA;A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,eADA;AAEA;AACA;AACA,kBADA;AAEA;AAFA;AADA,GAFA;AAQA;AACA;AADA,GARA;AAWA,MAXA,kBAWA;AACA;AACA,yBADA;AAEA,6BAFA;AAGA;AAHA;AAKA,GAjBA;AAkBA,2IACA,mDADA,GAEA,sCACA,YADA,EAEA,gBAFA,EAGA,gBAHA,EAIA,aAJA,EAKA,iBALA,EAMA,kBANA,EAFA;AAUA,mBAVA,6BAUA;AACA;AACA;AACA;;AACA,cACA,qCACA,gCAFA,EAGA;AACA;AACA;;AACA;AACA;;AACA;AACA,8BACA,iCADA,EAEA,YAFA,EAGA,GAHA,CAGA,aAHA;AAIA;AACA;AACA;;AACA;AACA,KA/BA;;AAgCA;AACA;AACA;AACA,YAnCA,sBAmCA;AACA,+DACA;AACA,iCADA;AAEA,gBACA,wBACA,sDAJA;AAKA;AALA;AAOA,4FACA;AACA,8CADA;AAEA,kDAFA;AAGA;AAHA;AAKA;AACA,KAnDA;;AAoDA;AACA;AACA;AACA,sBAvDA,gCAuDA;AACA;AACA,KAzDA;;AA0DA;AACA;AACA;AACA,sBA7DA,gCA6DA;AACA,UACA,4BACA,oBADA,IAEA,6BAHA,EAIA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KA3EA;;AA4EA;AACA;AACA;AACA,kBA/EA,4BA+EA;AACA;AACA;AACA,0BAFA,CAGA;;AACA;AACA;AACA;;AACA;AACA,KAxFA;;AAyFA;AACA;AACA;AACA,yBA5FA,mCA4FA;AACA;AACA;AACA;AACA;;AACA;AACA;AAlGA,IAlBA;AAsHA;AACA,mBADA,2BACA,GADA,EACA;AACA;AACA;AACA;AAJA,GAtHA;AA4HA;AACA,qBADA,+BACA;AACA;AACA,KAHA;AAIA,cAJA,wBAIA;AACA;AACA;AACA,KAPA;AAQA,gBARA,wBAQA,GARA,EAQA;AACA,gBACA;AACA,uBADA;AAEA,iBAFA;AAGA;AAHA;AAKA;AACA;AACA,uBADA;AAEA,iBAFA;AAGA;AACA,0BADA;AAEA,4BAFA;AAGA;AAHA;AAHA;AASA,KAzBA;AA0BA,cA1BA,wBA0BA;A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;;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KA7BA;;AA8BA;AACA;AACA;AACA,0BAjCA,oCAiCA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KAxCA;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA,2BAhDA,qCAgDA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA;;AACA;AACA,KApEA;;AAqEA;AACA;AACA;AACA,sBAxEA,gCAwEA;AACA;AACA;AA1EA,IA5BA;AAwGA;AACA,yBADA,mCACA;AACA;AACA;AACA,KAJA;AAKA,gBALA,wBAKA,GALA,EAKA;AACA;AACA,uBADA;AAEA;AAFA;AAIA,KAVA;;AAWA;AACA;AACA;AACA;AACA,yBAfA,mCAeA;AACA;AACA;;AACA;AACA;AACA,+BACA,eADA,EAEA,gCAFA;AAIA;AACA;;AACA,iCAVA,CAWA;;AACA;AACA;AACA,KA9BA;;AA+BA;AACA;AACA;AACA;AACA,4BAnCA,sCAmCA;AAAA;AACA;;AACA;AACA;;AACA;AACA;AACA;AACA,iCACA,eADA,EAEA,gCAFA;AAIA;AACA,WAPA,MAOA;AACA;AACA;AACA;;AACA;AACA;;AACA,iCAhBA,CAiBA;;AACA;AACA;AACA,KAzDA;;AA0DA;AACA;AACA;AACA;AACA,wBA9DA,kCA8DA;AACA;AACA;AACA,iEACA;AACA,2DACA;AACA;AACA;AACA,iEACA;AACA,2DACA;AACA;AACA,SAbA,CAcA;;AAEA;;AACA,YACA,sCACA,mDAFA,EAGA,CACA;AACA;AACA;AACA,KAvFA;AAwFA,cAxFA,sBAwFA,IAxFA,EAwFA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,2BACA,eADA,EAEA,mCAFA;AAIA,KAlGA;AAmGA,gBAnGA,0BAmGA;AACA;AACA,KArGA;AAsGA,aAtGA,uBAsGA;AACA;AACA,KAxGA;AAyGA,iBAzGA,2BAy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","file":"creneauxMylittlepressing.common.4.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calendar.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCreneau.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hours.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../creneaux-reservation/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../creneaux-reservation/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../creneaux-reservation/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../creneaux-reservation/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../creneaux-reservation/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../creneaux-reservation/node_modules/vue-loader/lib/index.js??vue-loader-options!./AppPopUpMap.vue?vue&type=style&index=0&id=6b7adad7&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"creneaux-mbt\"},[_c('div',{staticClass:\"container first-block\",attrs:{\"currentCreneauType\":_vm.currentCreneauType}},[_c('div',{staticClass:\"creneaux-mbt--block mt-5\"},[_c('app-title'),(_vm.alert_message && _vm.alert_message != '')?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\" \"+_vm._s(_vm.alert_message)+\" \")]):_vm._e(),_c('div',{staticClass:\"block-left\"},[_c('tab-option')],1),_c('div',{staticClass:\"block-border\"},[_c('div',{staticClass:\"row font-weight-bold type-livraison mb-2\"},[_c('inline-description')],1),_c('div',{staticClass:\"row d-flex justify-content-start commande-detail mb-5\"},[_c('div',{staticClass:\" rectangle rond-left rond-right mx-3 mx-md-0 mb-3 mb-md-0  ml-md-5  mr-lg-5  pt-3  pl-3 pr-3 col-md-3 \"},[_c('div',{staticClass:\"h2 cursor-pointer\"},[_vm._v(\"ADRESSE\")]),_c('div',{staticClass:\"d-flex justify-content-between justify-content-md-start align-items-center\"},[_c('mapGoogle'),_c('div',{staticClass:\"icone-map\"})],1)]),_c('div',{staticClass:\"col-md-7\"},[_c('div',{staticClass:\"row ml-md-4 h-100\"},[_c('creneau',{attrs:{\"title\":\"Collecte\",\"type\":\"collecte\"}}),_c('creneau',{attrs:{\"title\":\"Livraison\",\"classes\":\"rond-right\",\"type\":\"livraison\"}})],1)])])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"AppTitle\",\n  render: function(createElement) {\n    let elt = createElement;\n    var content = this.creneauConfigs.title;\n    var attr = {\n      class: {\n        \"text-left\": true,\n        \"font-weight-bold\": true\n      }\n    };\n    var titre = [elt(\"h1\", attr, content)];\n    return elt(\"div\", titre);\n  },\n  computed: {\n    ...mapState([\"creneauConfigs\"])\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTitle.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./AppTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./AppTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"\\n    col-12\\n    width-100\\n    d-flex\\n    flex-wrap\\n    mt-3\\n    mb-3\\n    font-weight-bold\\n    type-livraison\\n  \",domProps:{\"innerHTML\":_vm._s(_vm.activeTabOption)}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"\n      col-12\n      width-100\n      d-flex\n      flex-wrap\n      mt-3\n      mb-3\n      font-weight-bold\n      type-livraison\n    \"\n    v-html=\"activeTabOption\"\n  ></div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"InlineDesc\",\n  computed: { ...mapGetters([\"activeTabOption\"]) }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InlineDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InlineDescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InlineDescription.vue?vue&type=template&id=2965dbc2&\"\nimport script from \"./InlineDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./InlineDescription.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"first-row\"},_vm._l((_vm.creneauType),function(item,index){return _c('div',{key:index,staticClass:\"option btn\",class:item.active ? 'option-badge' : '',on:{\"click\":function($event){return _vm.SelectTypeTab(index)}}},[_c('div',{staticClass:\"mx-auto h2 titre-tab\"},[_vm._v(\" \"+_vm._s(item.titre)+\" \"),(index > 0)?_c('span',{staticClass:\"small small-text d-block\"},[_vm._v(\" \"+_vm._s(item.montant)+\" \")]):_vm._e()])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"first-row\">\n    <div\n      class=\"option btn\"\n      :class=\"item.active ? 'option-badge' : ''\"\n      v-for=\"(item, index) in creneauType\"\n      :key=\"index\"\n      @click=\"SelectTypeTab(index)\"\n    >\n      <div class=\"mx-auto h2 titre-tab\">\n        {{ item.titre }}\n        <span v-if=\"index > 0\" class=\"small small-text d-block\">\n          {{ item.montant }}\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"SelectionHoraire\",\n\n  computed: {\n    ...mapState([\"creneauType\"])\n  },\n  methods: {\n    SelectTypeTab(index) {\n      this.$store.dispatch(\"SelectTypeTab\", index);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabOption.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabOption.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabOption.vue?vue&type=template&id=46b468f1&\"\nimport script from \"./TabOption.vue?vue&type=script&lang=js&\"\nexport * from \"./TabOption.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"h1 cursor-pointer\"}),_c('p',{staticClass:\"cursor-pointer\"}),(!_vm.location.city_on_map && !_vm.location.locality)?_c('span',{staticClass:\"btn option-badge mt-4 mb-3\",on:{\"click\":_vm.openPopupMap}},[_vm._v(\" Ajouter une adresse \")]):_vm._e(),(_vm.location.current_address !== '')?_c('div',{staticClass:\"h1 cursor-pointer\",on:{\"click\":_vm.openPopupMap}},[_vm._v(\" \"+_vm._s(_vm.location.locality)+\" \")]):_vm._e(),(_vm.location.current_address !== '')?_c('p',{staticClass:\"cursor-pointer\"},[_vm._v(\" \"+_vm._s(_vm.location.current_address)+\" \")]):_vm._e(),_c('AppPopUpMap',{ref:\"apppopupmap\",attrs:{\"etape-checkout\":false,\"action-after\":false},on:{\"update_location\":_vm.update_location}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mapgoogle',{ref:\"mapgoogle\",attrs:{\"configs\":_vm.configs,\"etape-checkout\":_vm.etapeCheckout,\"action-after\":_vm.actionAfter},on:{\"update_location\":_vm.update_location}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"modal micromodal-slide\",attrs:{\"id\":\"map-popup-wbu\"}},[_c('div',{staticClass:\"modal__overlay\"},[_c('div',{staticClass:\"modal__container\",attrs:{\"role\":\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"modal-1-title\"}},[_c('header',{staticClass:\"modal__header\"},[_c('h2',{staticClass:\"modal__title\",attrs:{\"id\":\"modal-1-title\"}},[_vm._v(\" \"+_vm._s(_vm.configs.titre_map.value)+\" \")]),_c('a',{staticClass:\"modal__close\",attrs:{\"href\":\"#\",\"rel\":\"modal:close\"},on:{\"click\":function($event){return _vm.micromodal.close('map-popup-wbu')}}})]),_c('main',{staticClass:\"modal__content\",attrs:{\"id\":\"modal-1-content\"}},[_c('div',{staticClass:\"m-0 p-0 container-map\"},[_c('div',{attrs:{\"id\":\"map-display-wbu\"}}),_c('div',{staticClass:\"text-over-lay\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.current_address),expression:\"current_address\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder,\"id\":\"map-input-over\"},domProps:{\"value\":(_vm.current_address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.current_address=$event.target.value}}})]),_c('div',{staticClass:\"center-marker\"}),_c('div',{staticClass:\"address-confirm\"},[_c('button',{staticClass:\"btn btn-lg bg-cl1\",on:{\"click\":_vm.save_localisation_cookie}},[_vm._v(\" Confirmer l'adresse \")])])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Loader } from \"@googlemaps/js-api-loader\";\nexport default {\n  apiKey: \"AIzaSyDurloZ0-xj8CNrQwkeSc53A-_n35Xji2Y\",\n  GoogleObejct: null,\n  /**\n   * On charge la map\n   */\n  createGoogleObject() {\n    const loader = new Loader({\n      apiKey: this.apiKey,\n      version: \"weekly\",\n      libraries: [\"places\", \"geometry\"]\n    });\n    return new Promise(resolv => {\n      loader\n        .load()\n        .then(google => {\n          this.GoogleObejct = google;\n          resolv(google);\n        })\n        .catch(e => {\n          console.log(\"Erreur initialisation de la MAP : \", e);\n        });\n    });\n  },\n  extractPathForPolygon(geoString) {\n    const geojson = JSON.parse(geoString);\n    const points = [];\n    if (\n      geojson.features &&\n      geojson.features[0] &&\n      geojson.features[0].geometry &&\n      geojson.features[0].geometry.coordinates\n    ) {\n      for (const i in geojson.features[0].geometry.coordinates[0]) {\n        const point = geojson.features[0].geometry.coordinates[0][i];\n        points.push({ lat: point[1], lng: point[0] });\n      }\n    }\n    return points;\n  },\n  /**\n   * Permet de slpit and trim chaque elment;\n   * @param {*} string\n   */\n  convertNewLineToArray(string, serach = \"\\n\") {\n    return string.split(serach).map(item => item.trim());\n  }\n};\n","<!--\n    S'ouvre par defaut dans une popup.\n-->\n<template>\n  <div>\n    <!-- https://micromodal.vercel.app/ -->\n    <section class=\"modal micromodal-slide\" id=\"map-popup-wbu\">\n      <div class=\"modal__overlay\">\n        <div\n          class=\"modal__container\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"modal-1-title\"\n        >\n          <header class=\"modal__header\">\n            <h2 class=\"modal__title\" id=\"modal-1-title\">\n              {{ configs.titre_map.value }}\n            </h2>\n\n            <a\n              href=\"#\"\n              class=\"modal__close\"\n              rel=\"modal:close\"\n              @click=\"micromodal.close('map-popup-wbu')\"\n            ></a>\n          </header>\n          <main class=\"modal__content\" id=\"modal-1-content\">\n            <div class=\"m-0 p-0 container-map\">\n              <div id=\"map-display-wbu\"></div>\n              <div class=\"text-over-lay\">\n                <input\n                  class=\"form-control\"\n                  type=\"text\"\n                  v-model=\"current_address\"\n                  :placeholder=\"placeholder\"\n                  id=\"map-input-over\"\n                />\n              </div>\n              <div class=\"center-marker\"></div>\n              <div class=\"address-confirm\">\n                <button\n                  class=\"btn btn-lg bg-cl1\"\n                  @click=\"save_localisation_cookie\"\n                >\n                  Confirmer l'adresse\n                </button>\n              </div>\n            </div>\n          </main>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport config from \"./config.js\";\nimport micromodal from \"micromodal\";\n\nexport default {\n  name: \"Mapgoogle\",\n  props: {\n    configs: {\n      type: Object,\n      required: true\n    },\n    displayMarker: { type: Boolean, default: true },\n    image: { type: String, default: \"/localisation/img/marker.png\" },\n    urlGood: { type: String, default: \"/cart\" },\n    urlBad: { type: String, default: \"/pages/map-error\" },\n    etapeCheckout: {\n      type: Boolean,\n      default: true\n    },\n    actionAfter: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      id_html: \"map-google-field\",\n      villes: config.convertNewLineToArray(this.configs.villes.value, \";\"),\n      list_box: config.convertNewLineToArray(this.configs.bps.value),\n      micromodal: micromodal,\n      map: null,\n      lat: 45.7941459,\n      lon: 4.68941940000002,\n      point_in_polygon: false,\n      point_in_ville: false,\n      point_in_box: false,\n      titre_popup: \"Merci de confirmer votre adresse\",\n      current_address: \"\",\n      valide_text: \"Commander maintenant\",\n      placeholder: \"Entrez votre adresse\"\n    };\n  },\n  mounted() {\n    this.point_in_box = false;\n    this.point_in_polygon = false;\n    this.point_in_ville = false;\n    this.createGoogleObject();\n    this.current_address = this.$store.state.location.current_address\n      ? this.$store.state.location.current_address\n      : \"\";\n  },\n  methods: {\n    openPopupMap() {\n      this.micromodal.show(\"map-popup-wbu\");\n    },\n    closePopupMap() {\n      this.micromodal.close(\"map-popup-wbu\");\n    },\n    /**\n     * On charge la map\n     */\n    createGoogleObject() {\n      config.createGoogleObject().then(google => {\n        this.GoogleObejct = google;\n        this.getPlace();\n        this.initMap();\n        this.geocoder = new this.GoogleObejct.maps.Geocoder();\n      });\n    },\n    /**\n     * Permet d'ajouter la recherche de ville sur le champs qui est rattaché.\n     */\n    getPlace() {\n      var self = this;\n      /**\n       * Pour obtenir les coordonnées\n       * https://www.mapcoordinates.net/fr\n       */\n      var input = document.querySelector(\"#map-input-over\");\n      this.options = {\n        componentRestrictions: { country: [\"fr\"] },\n        types: [\"address\"],\n        strictBounds: true\n      };\n\n      const autocomplete = new this.GoogleObejct.maps.places.Autocomplete(\n        input,\n        this.options\n      );\n      this.GoogleObejct.maps.event.addListener(\n        autocomplete,\n        \"place_changed\",\n        function() {\n          var place = autocomplete.getPlace();\n\n          if (place && place.formatted_address) {\n            self.current_address = place.formatted_address;\n            self.city_on_map = place.vicinity;\n            self.updateMap(place);\n            self.openPopupMap();\n          }\n        }\n      );\n    },\n    initMap() {\n      var self = this;\n      var lat = this.lat;\n      var lon = this.lon;\n      // CrÃ©er l'objet \"map\" et l'insÃ¨rer dans l'Ã©lÃ©ment HTML qui a l'ID \"map\"\n      this.map = new this.GoogleObejct.maps.Map(\n        document.getElementById(\"map-display-wbu\"),\n        {\n          // Nous plaÃ§ons le centre de la carte avec les coordonnÃ©es ci-dessus\n          center: new this.GoogleObejct.maps.LatLng(lat, lon),\n          // Nous dÃ©finissons le zoom par dÃ©faut\n          zoom: 17,\n          // Nous dÃ©finissons le type de carte (ici carte routiÃ¨re)\n          mapTypeId: this.GoogleObejct.maps.MapTypeId.ROADMAP,\n          // Nous activons les options de contrÃ´le de la carte (plan, satellite...)\n          mapTypeControl: false,\n          // Nous dÃ©sactivons la roulette de souris\n          scrollwheel: false,\n\n          mapTypeControlOptions: {\n            // Cette option sert Ã  dÃ©finir comment les options se placent\n            style: this.GoogleObejct.maps.MapTypeControlStyle.HORIZONTAL_BAR\n          },\n\n          // Activation des options de navigation dans la carte (zoom...)\n          navigationControl: false,\n          panControl: false,\n          zoomControl: true,\n          streetViewControl: false,\n          fullscreenControl: false,\n\n          navigationControlOptions: {\n            // Comment ces options doivent-elles s'afficher\n            style: this.GoogleObejct.maps.NavigationControlStyle.ZOOM_PAN\n          },\n          styles: [\n            //desactive les localisations.\n            /*\n          \t{\n              featureType: 'poi',\n              elementType: 'labels.icon',\n              stylers: [\n                {visibility: 'off'}\n              ]\n            },\n            */\n            // couleur du texte.\n            /*\n          \t{\n              featureType: 'poi',\n              elementType: 'labels.text.fill',\n              stylers: [\n              \t{color: '#ffffff'}\n              ]\n            },\n            */\n            {\n              featureType: \"poi\",\n              elementType: \"labels.text.stroke\",\n              stylers: [{ visibility: \"off\" }]\n            },\n            {\n              featureType: \"landscape.natural\",\n              elementType: \"geometry\",\n              stylers: [{ color: \"#b8cb92\" }]\n            },\n            {\n              featureType: \"landscape.man_made\",\n              elementType: \"geometry\",\n              stylers: [{ color: \"#ece2d9\" }]\n            },\n            {\n              featureType: \"road\",\n              elementType: \"geometry\",\n              stylers: [{ color: \"#ffffff\" }]\n            },\n            {\n              featureType: \"road.highway\",\n              elementType: \"labels\",\n              stylers: [{ visibility: \"off\" }]\n            }\n          ]\n        }\n      );\n      this.setMarker();\n      this.map.addListener(\"dragend\", function() {\n        window.setTimeout(function() {\n          var centerPosition = self.map.getCenter();\n          if (centerPosition) {\n            self.lat = centerPosition.lat();\n            self.lon = centerPosition.lng();\n            self.city_on_map = \"\";\n\n            self.obtenir_address_proche();\n          }\n        }, 1000);\n      });\n      this.buildpolygon();\n      this.valide_selection();\n    },\n    updateMap: function(place) {\n      if (place.geometry) {\n        this.map.panTo(place.geometry.location);\n        this.lat = place.geometry.location.lat();\n        this.lon = place.geometry.location.lng();\n        this.setMarker();\n        this.valide_selection();\n      }\n    },\n    valide_selection() {\n      this.check_if_new_adress_in_polygon();\n      this.check_if_new_adress_in_villes();\n      this.check_if_new_adress_in_box();\n    },\n    obtenir_address_proche() {\n      var self = this;\n      var latlng = new this.GoogleObejct.maps.LatLng(this.lat, this.lon);\n      this.geocoder.geocode({ location: latlng }, function(results, status) {\n        if (status == \"OK\") {\n          self.current_address = results[0].formatted_address;\n          self.updateMap(results[0]);\n          self.getNameVilleFromPlace(results[0]);\n        }\n      });\n    },\n    setMarker() {\n      if (!this.displayMarker) {\n        return false;\n      }\n      var self = this;\n      var lat = this.lat;\n      var lon = this.lon;\n      // Nous ajoutons un marqueur\n      this.marker = new this.GoogleObejct.maps.Marker({\n        position: { lat: lat, lng: lon },\n        map: self.map,\n        icon: this.image\n      });\n    },\n    save_localisation_cookie() {\n      if (this.current_address == \"\") {\n        //localStorage.removeItem(\"wbu_localisation_map\");\n        this.$store.dispatch(\"setLocation\", \"\");\n        alert(\"Vous devez definir une adresse\");\n        return false;\n      }\n      if (this.point_in_polygon && this.point_in_ville && this.point_in_box) {\n        /*\n        localStorage.setItem(\n          \"wbu_localisation_map\",\n          JSON.stringify(this.current_address)\n        );\n        localStorage.setItem(\n          \"wbu_localisation_city\",\n          JSON.stringify(this.city_on_map)\n        );\n        localStorage.setItem(\"wbu_locality\", this.locality);\n        localStorage.setItem(\"wbu_route\", this.route);\n        /** */\n        const location = {\n          current_address: this.current_address,\n          city_on_map: this.city_on_map,\n          locality: this.locality,\n          route: this.route\n        };\n        this.$store.dispatch(\"setLocation\", location);\n        this.$emit(\"update_location\", location);\n        // IMPORTANT;\n        //$(document).trigger(\"adresseUpdate\");\n        if (this.etapeCheckout) {\n          window.location.href = this.urlGood;\n        } else {\n          document.querySelector(\".modal__close\").click();\n          if (this.actionAfter) {\n            document.querySelector(\".button.cart-checkout-custom\").click();\n          }\n        }\n      } else {\n        //localStorage.removeItem(\"wbu_localisation_map\");\n        //localStorage.removeItem(\"wbu_localisation_city\");\n        // IMPORANT;\n        //$(document).trigger(\"adresseUpdate\");\n        this.$store.dispatch(\"setLocation\", \"\");\n        window.location.href = this.urlBad;\n      }\n    },\n    /**\n     * -\n     */\n    buildpolygon() {\n      this.polygon = new this.GoogleObejct.maps.Polygon({\n        path: config.extractPathForPolygon(this.configs.zone_valide.value),\n        geodesic: true,\n        strokeColor: \"#48a0d9\",\n        strokeOpacity: 0.5,\n        strokeWeight: 4,\n        fillColor: \"#48a0d9\",\n        fillOpacity: 0.15\n      });\n      this.polygon.setMap(this.map);\n    },\n    check_if_new_adress_in_polygon() {\n      var latLng = new this.GoogleObejct.maps.LatLng(this.lat, this.lon);\n      if (\n        this.GoogleObejct.maps.geometry.poly.containsLocation(\n          latLng,\n          this.polygon\n        )\n      ) {\n        this.point_in_polygon = true;\n      } else {\n        this.point_in_polygon = false;\n      }\n    },\n    check_if_new_adress_in_villes() {\n      const ville_in_name = () => {\n        var view = false;\n        if (this.current_address && this.current_address.length > 0) {\n          var ar_ville = this.current_address.split(\",\");\n          if (ar_ville[1].length > 0) {\n            this.villes.forEach(ville => {\n              if (ar_ville[1].indexOf(ville) >= 0) {\n                view = true;\n              }\n            });\n          }\n        }\n        return view;\n      };\n      //Check if is valide\n      if (this.type_limitation != \"polygon_ville\") {\n        this.point_in_ville = true;\n        return false;\n      }\n      if (this.villes.indexOf(this.city_on_map) >= 0) {\n        this.point_in_ville = true;\n        return true;\n      } else if (ville_in_name()) {\n        this.point_in_ville = true;\n        return true;\n      } else {\n        this.point_in_ville = false;\n      }\n    },\n    /**\n     * -\n     */\n    check_if_new_adress_in_box() {\n      const ville_in_box = () => {\n        var view = false;\n        if (this.current_address && this.current_address.length > 0) {\n          if (this.current_address) {\n            this.list_box.forEach(box => {\n              if (this.current_address.indexOf(box) >= 0) {\n                view = true;\n              }\n            });\n          }\n        }\n        return view;\n      };\n      if (this.type_limitation != \"polygon_box\") {\n        this.point_in_box = true;\n        return false;\n      }\n      if (ville_in_box()) {\n        this.point_in_box = true;\n        return true;\n      } else {\n        this.point_in_box = false;\n        return true;\n      }\n    },\n    /**\n     * -\n     */\n    getNameVilleFromPlace(place) {\n      var route = \"\";\n      var locality = \"\";\n      if (place.address_components) {\n        for (const i in place.address_components) {\n          var components = place.address_components[i];\n          if (\n            components.types &&\n            components.types.includes(\"locality\") &&\n            locality == \"\"\n          ) {\n            locality = components.long_name;\n          }\n          if (\n            components.types &&\n            components.types.includes(\"route\") &&\n            route == \"\"\n          ) {\n            route = components.long_name;\n          }\n        }\n        this.route = route;\n        this.locality = locality;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../creneaux-reservation/node_modules/thread-loader/dist/cjs.js!../../../creneaux-reservation/node_modules/babel-loader/lib/index.js!../../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../creneaux-reservation/node_modules/vue-loader/lib/index.js??vue-loader-options!./mapgoogle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../creneaux-reservation/node_modules/thread-loader/dist/cjs.js!../../../creneaux-reservation/node_modules/babel-loader/lib/index.js!../../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../creneaux-reservation/node_modules/vue-loader/lib/index.js??vue-loader-options!./mapgoogle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mapgoogle.vue?vue&type=template&id=b2168960&\"\nimport script from \"./mapgoogle.vue?vue&type=script&lang=js&\"\nexport * from \"./mapgoogle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../creneaux-reservation/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <mapgoogle\n    ref=\"mapgoogle\"\n    :configs=\"configs\"\n    :etape-checkout=\"etapeCheckout\"\n    :action-after=\"actionAfter\"\n    @update_location=\"update_location\"\n  >\n  </mapgoogle>\n</template>\n\n<script>\nimport store from \"./store\";\nimport { mapState } from \"vuex\";\nimport mapgoogle from \"./components/mapgoogle.vue\";\nexport default {\n  name: \"AppPopUpMap\",\n  store,\n  props: {\n    etapeCheckout: {\n      type: Boolean,\n      required: true\n    },\n    actionAfter: {\n      type: Boolean,\n      required: true\n    }\n  },\n  components: {\n    mapgoogle\n  },\n  computed: {\n    ...mapState([\"configs\"])\n  },\n\n  methods: {\n    openModal() {\n      this.$refs.mapgoogle.openPopupMap();\n    },\n    update_location(l) {\n      this.$emit(\"update_location\", l);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./components/scss/micromodal.scss\";\n</style>\n","import mod from \"-!../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../creneaux-reservation/node_modules/thread-loader/dist/cjs.js!../../creneaux-reservation/node_modules/babel-loader/lib/index.js!../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../creneaux-reservation/node_modules/vue-loader/lib/index.js??vue-loader-options!./AppPopUpMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../creneaux-reservation/node_modules/thread-loader/dist/cjs.js!../../creneaux-reservation/node_modules/babel-loader/lib/index.js!../../creneaux-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../creneaux-reservation/node_modules/vue-loader/lib/index.js??vue-loader-options!./AppPopUpMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppPopUpMap.vue?vue&type=template&id=6b7adad7&scoped=true&\"\nimport script from \"./AppPopUpMap.vue?vue&type=script&lang=js&\"\nexport * from \"./AppPopUpMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppPopUpMap.vue?vue&type=style&index=0&id=6b7adad7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../creneaux-reservation/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b7adad7\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"h1 cursor-pointer\"></div>\n    <p class=\"cursor-pointer\"></p>\n    <span\n      class=\"btn option-badge mt-4 mb-3\"\n      @click=\"openPopupMap\"\n      v-if=\"!location.city_on_map && !location.locality\"\n    >\n      Ajouter une adresse\n    </span>\n    <div\n      class=\"h1 cursor-pointer\"\n      @click=\"openPopupMap\"\n      v-if=\"location.current_address !== ''\"\n    >\n      {{ location.locality }}\n    </div>\n    <p class=\"cursor-pointer\" v-if=\"location.current_address !== ''\">\n      {{ location.current_address }}\n    </p>\n    <AppPopUpMap\n      ref=\"apppopupmap\"\n      :etape-checkout=\"false\"\n      :action-after=\"false\"\n      @update_location=\"update_location\"\n    ></AppPopUpMap>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport AppPopUpMap from \"map-google-location/src/AppPopUpMap.vue\";\nexport default {\n  name: \"MapGoogle\",\n  components: {\n    AppPopUpMap\n  },\n  computed: {\n    ...mapState([\"location\"])\n  },\n  methods: {\n    openPopupMap() {\n      this.$refs.apppopupmap.openModal();\n    },\n    update_location(location) {\n      console.log(\" update_location : \", location);\n      this.$store.dispatch(\"setLocation\", location);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map-google.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map-google.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./map-google.vue?vue&type=template&id=76e0080a&\"\nimport script from \"./map-google.vue?vue&type=script&lang=js&\"\nexport * from \"./map-google.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rectangle mx-2 mx-md-0 mb-3 mb-md-0 mx-3 pt-4 pl-sm-3 col-md-6\",class:_vm.classes},[_c('div',{staticClass:\"title-creneau h2\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\" d-flex justify-content-between justify-content-md-start line-creneau h1 \"},[_c('hours',{attrs:{\"type\":_vm.type},on:{\"selectNextDay\":_vm.selectNextDay}}),_c('i',{staticClass:\"icone-svg mb-md-1 mb-lg-2 cursor-pointer\",on:{\"click\":function($event){_vm.showCalandar = !_vm.showCalandar}}},[_c('SvgCalandar')],1)],1),_c('p',{staticClass:\"cursor-pointer\",on:{\"click\":function($event){_vm.showCalandar = !_vm.showCalandar}}},[_vm._v(\" \"+_vm._s(_vm.appDateDisplay)+\" \")]),(_vm.showCalandar)?_c('div',{staticClass:\"over-container-date\",on:{\"click\":function($event){_vm.showCalandar = !_vm.showCalandar}}}):_vm._e(),_c('calendar',{ref:\"calendar\",attrs:{\"show-calandar\":_vm.showCalandar,\"type\":_vm.type}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"},attrs:{\"triggerBuilder\":_vm.triggerBuilder,\"TriggerAfterHourBuild\":_vm.TriggerAfterHourBuild}},[_c('advanced-select',{attrs:{\"disabled\":_vm.disabled_creneau,\"options\":_vm.list_creneaux,\"show-labels\":false,\"searchable\":false,\"placeholder\":\"00:00 - 00:00\",\"track-by\":\"begin\",\"open-direction\":\"bottom\"},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(ref){\nvar option = ref.option;\nreturn [_vm._v(\" \"+_vm._s(option.begin)+\" - \"+_vm._s(option.end)+\" \")]}},{key:\"option\",fn:function(props){return [_c('span',{attrs:{\"checkstatus\":props.option.checkstatus}},[_vm._v(\" \"+_vm._s(props.option.begin)+\" - \"+_vm._s(props.option.end)+\" \")])]}}]),model:{value:(_vm.current_creneau),callback:function ($$v) {_vm.current_creneau=$$v},expression:\"current_creneau\"}},[_c('template',{slot:\"noOptions\"},[_c('span',[_vm._v(\" Aucun créneau disponible à cette date \")])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import store from \"../../../../store/index\";\nclass filtre {\n  constructor(\n    dateMonth,\n    type,\n    creneauConfigs,\n    currentCreneauType,\n    creneauFilters,\n    type_disabled = \"days\"\n  ) {\n    /**\n     * Date de l'application sans les les heures.\n     */\n    this.dateMonth = dateMonth;\n    this.IndexDayDisabled = [];\n    this.DaysDisabledDate = [];\n    this.DaysDisabledPeriode = [];\n    this.location = store.state.location;\n    if (creneauConfigs.days) {\n      this.setDaysDisabled(creneauConfigs.days);\n    }\n    this.type = type;\n    this.currentCreneauType = currentCreneauType;\n    if (creneauFilters.length) {\n      for (const i in creneauFilters) {\n        const filter = creneauFilters[i];\n        if (filter.type_disabled === type_disabled) {\n          this.setDaysDisabledDate(filter.date_desactivee, filter.pobox);\n          this.setDaysDisabledPeriode(filter.periode_desactivee, filter.pobox);\n        }\n      }\n    }\n  }\n  /**\n   * Jours desactivés en function de l'indice du jour.\n   */\n  setDaysDisabled(days) {\n    days.forEach(e => {\n      if (!e.value) this.IndexDayDisabled.push(e.indice);\n    });\n  }\n  /**\n   * Jours desactivés en function des dates.\n   */\n  setDaysDisabledDate(date_desactivee, pobox) {\n    //this.location.current_address\n    let inBox = false;\n    if (this.location.current_address)\n      pobox.forEach(b => {\n        if (this.location.current_address.includes(b.value)) {\n          inBox = true;\n        }\n      });\n    if (pobox.length === 0 || inBox)\n      date_desactivee.forEach(e => {\n        this.DaysDisabledDate.push(e.date);\n      });\n  }\n  /**\n   * Jours desactivés en function des periodes.\n   */\n  setDaysDisabledPeriode(periode_desactivee, pobox) {\n    let inBox = false;\n    if (this.location.current_address)\n      pobox.forEach(b => {\n        if (this.location.current_address.includes(b.value)) {\n          inBox = true;\n        }\n      });\n    if (pobox.length === 0 || inBox)\n      periode_desactivee.forEach(e => {\n        if (e.debut !== \"\" && e.fin !== \"\") this.DaysDisabledPeriode.push(e);\n      });\n  }\n  /**\n   * Permet de valider un date, active ou pas.\n   * @param {*} date Doit etre un object moment.\n   * @return true pour une date active et false sinon;\n   */\n  ValidationDay(date) {\n    //this.disabledByCodePostal();\n    return new Promise(resolvEnd => {\n      //permet de dessactiver les jours avant le jour valide par l'application.\n      if (date.diff(this.dateMonth, \"minute\") >= 0) {\n        //permet de desactivée en function de l'indice.\n        if (this.IndexDayDisabled.includes(date.day())) {\n          resolvEnd(this.statusDate(date, false, \"default-disable-day\"));\n        } else {\n          /**\n           * On verifie le jour  par rapport au tableau des jours desactivées.\n           * à ce niveau on desactive en function des dates.\n           */\n          if (this.DaysDisabledDate.includes(date.format(\"YYYY-MM-DD\"))) {\n            resolvEnd(this.statusDate(date, false, \"default-disable-date\"));\n          } else if (this.DaysDisabledPeriode.length) {\n            /**\n             * à ce niveau, on desactive en function de la periode.\n             */\n            for (const i in this.DaysDisabledPeriode) {\n              const p = this.DaysDisabledPeriode[i];\n              const p_d = date.diff(moment(p.debut, \"YYYY-MM-DD\"), \"minute\");\n              const p_f = date.diff(moment(p.fin, \"YYYY-MM-DD\"), \"minute\");\n              if (p_d >= 0 && p_f <= 0) {\n                resolvEnd(\n                  this.statusDate(date, false, \"default-disable-periode\")\n                );\n                break;\n              }\n              var ii = parseInt(i) + 1;\n              if (ii === this.DaysDisabledPeriode.length) {\n                resolvEnd(this.statusDate(date, true, \"default-actif-periode\"));\n              }\n            }\n          } else resolvEnd(this.statusDate(date, true, \"default-actif-date\"));\n        }\n      } else {\n        resolvEnd(this.statusDate(date, false, \"default-disable\"));\n      }\n    });\n  }\n\n  disabledByCodePostal() {\n    console.log(\"store : \", store.state.location);\n  }\n  /**\n   *\n   * @param {*} date\n   * @param {*} status\n   * @param {*} custom_class\n   * @param {*} select\n   * @returns\n   */\n  statusDate(date, status, custom_class, select = false) {\n    return {\n      status: status,\n      custom_class: custom_class,\n      date: date.date(),\n      select: select,\n      date_string: date.format(\"YYYY-MM-DD\")\n    };\n  }\n}\nexport default filtre;\n","import filtre from \"./filtre\";\nclass filterHours {\n  constructor(date, type, creneauFilters) {\n    this.type = type;\n    this.date = date;\n    this.filterHours = [];\n    this.creneauFilters = creneauFilters;\n    /*\n    creneauFilters.forEach(Filter => {\n      if (Filter.type_disabled === \"hours\") {\n        this.getPlageDate(Filter);\n      }\n    });\n    /**/\n  }\n\n  getPlageDate(Filter) {\n    this.dateBegin = this.date;\n    if (Filter.h_debut != \"\" && Filter.h_fin != \"\") {\n      const d = Filter.h_debut.split(\":\");\n      const f = Filter.h_fin.split(\":\");\n      if (d[1] && f[1])\n        this.filterHours.push({\n          Filter,\n          dateBegin: moment(this.date).set({\n            hour: d[0],\n            minute: d[1],\n            second: 0\n          }),\n          dateEnd: moment(this.date).set({\n            hour: f[0],\n            minute: f[1],\n            second: 0\n          })\n        });\n    }\n  }\n  /**\n   * On reconstruit le filtre afin d'ameliorer les perfomances.\n   */\n  async rebuildFilter() {\n    for (const i in this.creneauFilters) {\n      const Filter = this.creneauFilters[i];\n      if (Filter.type_disabled === \"hours\") {\n        if (Filter.h_debut != \"\" && Filter.h_fin != \"\") {\n          const filterDate = new filtre(\n            this.date,\n            this.type,\n            [],\n            [],\n            [Filter],\n            \"hours\"\n          );\n          const dayValid = await filterDate.ValidationDay(this.date);\n          const d = Filter.h_debut.split(\":\");\n          const f = Filter.h_fin.split(\":\");\n          if (d[1] && f[1])\n            this.filterHours.push({\n              ...Filter,\n              dayValid: dayValid.status,\n              dateBegin: moment(this.date).set({\n                hour: d[0],\n                minute: d[1],\n                second: 0\n              }),\n              dateEnd: moment(this.date).set({\n                hour: f[0],\n                minute: f[1],\n                second: 0\n              })\n            });\n        }\n      }\n    }\n  }\n  /**\n   *\n   * @param {*} c_min\n   * @param {*} c_max\n   * @returns false to not disable creneau and true to disabled this creneau.\n   */\n  async checkIsDisabled(c_min, c_max) {\n    //console.log(\"this.filterHours : \", this.filterHours);\n    return new Promise(resolv => {\n      if (this.filterHours.length === 0) {\n        resolv(false);\n      }\n\n      const loop = filter => {\n        const c_min_1 = c_min.diff(filter.dateBegin, \"minute\");\n        const c_min_2 = c_min.diff(filter.dateEnd, \"minute\");\n        const c_max_1 = c_max.diff(filter.dateBegin, \"minute\");\n        const c_max_2 = c_max.diff(filter.dateEnd, \"minute\");\n        if (\n          (c_min_1 >= 0 && c_min_2 < 0) ||\n          (c_max_1 > 0 && c_max_2 <= 0) ||\n          (c_min_2 < 0 && c_max_2 > 0)\n        ) {\n          return true;\n        } else {\n          return false;\n        }\n      };\n\n      for (const i in this.filterHours) {\n        const filter = this.filterHours[i];\n        //console.log(\"filter : \", filter);\n        //Verifie les jours de la semaine.\n        if (filter.jours_select.length) {\n          if (filter.jours_select.includes(this.date.day())) {\n            if (loop(filter) && !filter.dayValid) {\n              resolv(true);\n              break;\n            }\n          }\n        } else {\n          if (loop(filter) && !filter.dayValid) {\n            resolv(true);\n            break;\n          }\n        }\n        var ii = parseInt(i) + 1;\n        if (this.filterHours.length === ii) {\n          resolv(false);\n        }\n      }\n    });\n  }\n}\n\nexport default filterHours;\n","import filterHours from \"./filterHours\";\nclass Hours {\n  constructor(date, creneauFilters, creneauConfigs, currentCreneauType, type) {\n    this.date = date;\n    this.creneauFilters = creneauFilters;\n    this.creneauConfigs = creneauConfigs;\n    this.currentCreneauType = currentCreneauType;\n    this.list_creneaux = [];\n    this.type = type;\n  }\n\n  /**\n   * Recuperer la plage de date du jour.\n   */\n  getCurrentBandHour() {\n    const creneauConfigs = this.creneauConfigs;\n    return new Promise(resolv => {\n      if (creneauConfigs.days) {\n        for (const i in creneauConfigs.days) {\n          const d = creneauConfigs.days[i];\n          if (d.indice === this.date.day()) {\n            resolv(d);\n          }\n        }\n      }\n    });\n  }\n  /**\n   * -\n   */\n  async buildHour() {\n    const Filter = new filterHours(this.date, this.type, this.creneauFilters);\n    await Filter.rebuildFilter();\n    const d = await this.getCurrentBandHour();\n    const h_min = d.debut.split(\":\");\n    const h_max = d.fin.split(\":\");\n    const dateMin = moment(this.date).set({\n      hour: h_min[0],\n      minute: h_min[1],\n      second: 0\n    });\n    const dateMax = moment(this.date).set({\n      hour: h_max[0],\n      minute: h_max[1],\n      second: 0\n    });\n\n    return new Promise(resolv => {\n      const addCreneau = () => {\n        const endCreneau = moment(dateMin).add(\n          this.currentCreneauType.creneau,\n          \"minute\"\n        );\n        if (endCreneau.diff(dateMax) <= 0) {\n          //const status = false;\n          Filter.checkIsDisabled(dateMin, endCreneau).then(status => {\n            var bloc_date = {\n              begin: dateMin.format(\"HH:mm\"),\n              end: endCreneau.format(\"HH:mm\"),\n              $isDisabled: status,\n              checkstatus: \"\"\n            };\n            if (dateMin.diff(this.date) > 0 && !status)\n              this.list_creneaux.push(bloc_date);\n            dateMin.add(this.currentCreneauType.delai_next_creneau, \"minute\");\n            addCreneau();\n          });\n        } else {\n          resolv(true);\n        }\n      };\n      addCreneau();\n    });\n  }\n}\n\nexport default Hours;\n","<!--\n  La construction des heures est declenché par app_date_utilisable_string;\n-->\n<template lang=\"html\">\n  <div\n    style=\"width:100%\"\n    :triggerBuilder=\"triggerBuilder\"\n    :TriggerAfterHourBuild=\"TriggerAfterHourBuild\"\n  >\n    <advanced-select\n      v-model=\"current_creneau\"\n      :disabled=\"disabled_creneau\"\n      :options=\"list_creneaux\"\n      :show-labels=\"false\"\n      :searchable=\"false\"\n      placeholder=\"00:00 - 00:00\"\n      track-by=\"begin\"\n      open-direction=\"bottom\"\n    >\n      <!-- Pour l'affichege de la selection. -->\n      <template slot=\"singleLabel\" slot-scope=\"{ option }\">\n        {{ option.begin }} - {{ option.end }}\n      </template>\n      <template slot=\"option\" slot-scope=\"props\">\n        <span :checkstatus=\"props.option.checkstatus\">\n          {{ props.option.begin }} - {{ props.option.end }}\n        </span>\n      </template>\n      <template slot=\"noOptions\">\n        <span> Aucun créneau disponible à cette date </span>\n      </template>\n    </advanced-select>\n  </div>\n</template>\n\n<script>\nimport AdvancedSelect from \"vue-multiselect\";\nimport { mapState, mapGetters } from \"vuex\";\nimport Utilities from \"../../js/Utilities\";\nimport Hours from \"./js/hours\";\nexport default {\n  name: \"Hours\",\n  props: {\n    type: {\n      type: String,\n      required: true\n    }\n  },\n  components: {\n    AdvancedSelect\n  },\n  data() {\n    return {\n      current_creneau: \"\",\n      disabled_creneau: false,\n      list_creneaux: []\n    };\n  },\n  computed: {\n    ...mapGetters([\"appDate\"]),\n    ...mapState([\n      \"activeType\",\n      \"creneauConfigs\",\n      \"creneauFilters\",\n      \"creneauType\",\n      \"creneauCollecte\",\n      \"creneauLivraison\"\n    ]),\n    WatchDateSelect() {\n      if (this.appDate) {\n        if (this.type === Utilities.crex1.id) {\n          const crex1H = moment(this.creneauCollecte.date_string, \"YYYY-MM-DD\");\n          if (\n            this.appDate.format(\"YYYY-MM-DD\") ==\n            this.creneauCollecte.date_string\n          ) {\n            crex1H.set(this.getHours);\n          }\n          return crex1H;\n        }\n        if (this.type === Utilities.crex2.id) {\n          const crex2H = moment(\n            this.creneauLivraison.date_string,\n            \"YYYY-MM-DD\"\n          ).set(this.getHours);\n          return crex2H;\n        }\n      }\n      return null;\n    },\n    /**\n     * On recupere l'heure en function de la date encours ou en function de l'heure de creneau collecte ( Cas de la livraison ).\n     */\n    getHours() {\n      if (this.type === Utilities.crex1.id)\n        return {\n          hour: this.appDate.hour(),\n          minute:\n            this.appDate.minute() +\n            parseInt(this.creneauConfigs.deccalage_creneau_depart),\n          second: this.appDate.second()\n        };\n      if (this.type === Utilities.crex2.id && this.creneauCollecte.date)\n        return {\n          hour: this.creneauCollecte.date.hour(),\n          minute: this.creneauCollecte.date.minute(),\n          second: this.creneauCollecte.date.second()\n        };\n      return null;\n    },\n    /**\n     * -\n     */\n    currentCreneauType() {\n      return this.creneauType[this.activeType];\n    },\n    /**\n     * Recuperer la plage de date du jour.\n     */\n    getCurrentBandHour() {\n      if (\n        this.creneauConfigs.days &&\n        this.WatchDateSelect &&\n        this.WatchDateSelect._isValid\n      ) {\n        for (const i in this.creneauConfigs.days) {\n          const d = this.creneauConfigs.days[i];\n          if (d.indice === this.WatchDateSelect.day()) {\n            return d;\n          }\n        }\n      }\n      return null;\n    },\n    /**\n     * Declanche le debut de la construction\n     */\n    triggerBuilder() {\n      if (this.getCurrentBandHour) {\n        //empty data.\n        this.emptyValue();\n        //\n        this.buildHours();\n        return this.getCurrentBandHour;\n      }\n      return null;\n    },\n    /**\n     * Action apres la construction du formaulaire.\n     */\n    TriggerAfterHourBuild() {\n      if (this.list_creneaux.length) {\n        this.selectFirtCreneau();\n        return this.list_creneaux;\n      }\n      return null;\n    }\n  },\n  watch: {\n    current_creneau(val) {\n      //console.log(\"watch current_creneau : \", this.type, \" :: \", val);\n      this.$store.dispatch(\"SetSelectHour\", this.BuildPayload(val));\n    }\n  },\n  methods: {\n    selectFirtCreneau() {\n      this.current_creneau = this.list_creneaux[0];\n    },\n    emptyValue() {\n      this.current_creneau = false;\n      this.list_creneaux = [];\n    },\n    BuildPayload(val) {\n      if (!val)\n        return {\n          type: this.type,\n          hour: val,\n          date: val\n        };\n      const endCrex = val.begin.split(\":\");\n      return {\n        type: this.type,\n        hour: val,\n        date: moment(this.WatchDateSelect).set({\n          hour: endCrex[0],\n          minute: endCrex[1],\n          secodne: 0\n        })\n      };\n    },\n    buildHours() {\n      console.log(\"buildHours : \", this.type);\n      const H = new Hours(\n        this.WatchDateSelect,\n        this.creneauFilters,\n        this.creneauConfigs,\n        this.currentCreneauType,\n        this.type\n      );\n      H.buildHour().then(() => {\n        this.list_creneaux = H.list_creneaux;\n      });\n    },\n    buildHoursNone() {\n      this.list_creneaux = [];\n      //console.log(\"getCurrentBandHour : \", this.getCurrentBandHour);\n      const h_min = this.getCurrentBandHour.debut.split(\":\");\n      const h_max = this.getCurrentBandHour.fin.split(\":\");\n      const dateMin = moment(this.WatchDateSelect).set({\n        hour: h_min[0],\n        minute: h_min[1],\n        second: 0\n      });\n      const dateMax = moment(this.WatchDateSelect).set({\n        hour: h_max[0],\n        minute: h_max[1],\n        second: 0\n      });\n      const addCreneau = () => {\n        const endCreneau = moment(dateMin).add(\n          this.currentCreneauType.creneau,\n          \"minute\"\n        );\n        if (endCreneau.diff(dateMax) <= 0) {\n          //const status = await this.ValidHour(dateMin, endCreneau);\n          //console.log(\"status : \", status);\n          //const status = false;\n          this.ValidHour(dateMin, endCreneau).then(status => {\n            var bloc_date = {\n              begin: dateMin.format(\"HH:mm\"),\n              end: endCreneau.format(\"HH:mm\"),\n              $isDisabled: status,\n              checkstatus: \"\"\n            };\n            if (dateMin.diff(this.WatchDateSelect) > 0 && !status)\n              this.list_creneaux.push(bloc_date);\n            dateMin.add(this.currentCreneauType.delai_next_creneau, \"minute\");\n            addCreneau();\n          });\n        } else {\n          // Le bascule auto de la date au prochain jour ne fonctionne pas.\n          setTimeout(() => {\n            // if (this.list_creneaux.length === 0) this.$emit(\"selectNextDay\", 1);\n          }, 600);\n        }\n      };\n      addCreneau();\n    },\n    ValidHour(c_min, c_max) {\n      const H = new Hours(this.WatchDateSelect, this.type, this.creneauFilters);\n      return new Promise(resolv => {\n        H.getPlageDate2().then(() => {\n          H.checkIsDisabled(c_min, c_max).then(resp => {\n            resolv(resp);\n          });\n        });\n      });\n    }\n  }\n};\n</script>\n<style>\n@import \"~vue-multiselect/dist/vue-multiselect.min.css\";\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hours.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hours.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Hours.vue?vue&type=template&id=0ae33522&lang=html&\"\nimport script from \"./Hours.vue?vue&type=script&lang=js&\"\nexport * from \"./Hours.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Hours.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showCalandar),expression:\"showCalandar\"}],staticClass:\"container-date flat cercle\",attrs:{\"initCreneau\":_vm.initCreneau,\"ReInitCreneauLivraison\":_vm.ReInitCreneauLivraison,\"updateCurrentDateSelect\":_vm.updateCurrentDateSelect}},[_c('div',{staticClass:\"single-date-picker__calendar-month-header\"},[_c('div',{staticClass:\"single-date-picker__arrow left\",on:{\"click\":_vm.previowMonth}}),(_vm.calandarTitle != '')?_c('div',{staticClass:\"single-date-picker__year\",domProps:{\"innerHTML\":_vm._s(_vm.calandarTitle)}}):_vm._e(),_c('div',{staticClass:\"single-date-picker__arrow right\",on:{\"click\":_vm.nextMonth}})]),_c('ul',{staticClass:\"d-flex flex-wrap justify-content-center\"},[(_vm.showDayLabel)?_c('div',{staticClass:\"d-flex flex-wrap justify-content-center w-100\"},[_c('li',{staticClass:\"date day\"},[_vm._v(\" Lun \")]),_c('li',{staticClass:\"date day\"},[_vm._v(\" Mar \")]),_c('li',{staticClass:\"date day\"},[_vm._v(\" Mer \")]),_c('li',{staticClass:\"date day\"},[_vm._v(\" Jeu \")]),_c('li',{staticClass:\"date day\"},[_vm._v(\" Ven \")]),_c('li',{staticClass:\"date day\"},[_vm._v(\" Sam \")]),_c('li',{staticClass:\"date day\"},[_vm._v(\" Dim \")])]):_vm._e(),_vm._l((_vm.listCalanderDays),function(date,i){return _c('li',{key:i,class:[\n        'date',\n        date.status ? 'actif' : 'disable',\n        date.custom_class,\n        date.select ? 'selected' : ''\n      ],on:{\"click\":function($event){return _vm.selectDate(date)}}},[_c('span',{domProps:{\"innerHTML\":_vm._s(date.date)}})])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Filtre from \"./filtre\";\n/**\n * On fournit une date et le script retourne la liste des jours du mois encours.\n * Doc : https://github.com/niinpatel/calendarHTML-Javascript/blob/master/scripts.js\n */\nclass calendar {\n  constructor(\n    date,\n    appDate,\n    type,\n    creneauConfigs,\n    currentCreneauType,\n    creneauFilters\n  ) {\n    this.currentDate = moment(date);\n    // indice du mois. [ Entre 0 et 11 ];\n    this.currentMonth = this.currentDate.month();\n    // indice du mois. [ Number ]\n    this.currentYear = this.currentDate.year();\n    //\n    this.dates = [];\n    /**\n     * Date de l'application sans les les heures.\n     * elle egalment le role de date de reference. (tous les dates en dessous sont desactivées);\n     */\n    this.dateMonth = moment(appDate).set({ hour: 0, minute: 0, second: 0 });\n    this.creneauConfigs = creneauConfigs;\n    this.currentCreneauType = currentCreneauType;\n    this.creneauFilters = creneauFilters;\n    /**\n     * C'est deux cas possible: collecte ou livraison.\n     */\n    this.type = type;\n    /**\n     *\n     */\n    this.CountDecallageAppliquer = 0;\n    this.currentCreneauType.delai = parseInt(this.currentCreneauType.delai);\n  }\n  /**\n   * -\n   */\n  buildDaysOfMonth() {\n    //On s'assure que le mois a au moins un jour valide, sinon on passe au mois suivant.\n    // ()=>{}\n    let nombreSemaine = 6;\n    let premierJourMois = moment().set({\n      year: this.currentYear,\n      month: this.currentMonth,\n      date: 1,\n      hour: 0,\n      minute: 0,\n      second: 0\n    });\n\n    let indiceDuPremierJourDumois = premierJourMois.day();\n    if (!indiceDuPremierJourDumois) indiceDuPremierJourDumois = 7;\n    //Permet de mettre \"premierJourMois\" sur le premier jour dans le calendrier.\n    premierJourMois.add(-indiceDuPremierJourDumois, \"day\");\n    indiceDuPremierJourDumois--;\n\n    // Nombre de jour dans le mois.\n    let daysInMonth =\n      32 -\n      moment()\n        .set({\n          year: this.currentYear,\n          month: this.currentMonth,\n          date: 32,\n          hour: 0,\n          minute: 0,\n          second: 0\n        })\n        .date();\n    let DernierJourMois = moment().set({\n      year: this.currentYear,\n      month: this.currentMonth,\n      date: daysInMonth,\n      hour: 0,\n      minute: 0,\n      second: 0\n    });\n    let date = 1;\n    for (let i = 0; i < nombreSemaine; i++) {\n      if (date > daysInMonth) break;\n      for (let j = 0; j < 7; j++) {\n        const filter = new Filtre(\n          this.dateMonth,\n          this.type,\n          this.creneauConfigs,\n          this.currentCreneauType,\n          this.creneauFilters\n        );\n        // Si nous sommes sur la premiere semaine, et que l'indice du premier jour de mois est inferieur à la valeur encours,\n        // On ajoute ces dates comme etant desactivées.\n        if (i === 0 && j < indiceDuPremierJourDumois) {\n          let pre_jour = premierJourMois.add(1, \"day\");\n          filter.ValidationDay(pre_jour).then(stateValidationDay => {\n            this.dates.push(this.DisabledBydelai(stateValidationDay));\n          });\n        } else if (date > daysInMonth) {\n          // On commence avec les jours du prochain mois.\n          let last_jour = DernierJourMois.add(1, \"day\");\n          filter.ValidationDay(last_jour).then(stateValidationDay => {\n            this.dates.push(this.DisabledBydelai(stateValidationDay));\n          });\n        } else {\n          let next_jour = premierJourMois.add(1, \"day\");\n          filter.ValidationDay(next_jour).then(stateValidationDay => {\n            this.dates.push(this.DisabledBydelai(stateValidationDay));\n          });\n          date++;\n        }\n      }\n    }\n  }\n  /**\n   * On applique le delais, sur le bloc livraison, suivant plusieurs cas de figure.\n   * Le delai est definit par la date de collecte,\n   * Le delai par defaut est dans this.currentCreneauType.delai et peut etre surcharger par celui definit par par this.currentCreneauType.delais_jour\n   * @param {*} stateValidationDay\n   * @returns\n   */\n  DisabledBydelai(stateValidationDay) {\n    if (this.type === \"livraison\") {\n      if (\n        this.CountDecallageAppliquer < this.currentCreneauType.delai &&\n        stateValidationDay.status\n      ) {\n        this.CountDecallageAppliquer++;\n        stateValidationDay.status = false;\n        stateValidationDay.custom_class = \"default-disable-delai\";\n      }\n    }\n    return stateValidationDay;\n  }\n}\nexport default calendar;\n","<template>\n  <div\n    class=\"container-date flat cercle\"\n    :initCreneau=\"initCreneau\"\n    :ReInitCreneauLivraison=\"ReInitCreneauLivraison\"\n    :updateCurrentDateSelect=\"updateCurrentDateSelect\"\n    v-show=\"showCalandar\"\n  >\n    <div class=\"single-date-picker__calendar-month-header\">\n      <div class=\"single-date-picker__arrow left\" @click=\"previowMonth\"></div>\n\n      <div\n        class=\"single-date-picker__year\"\n        v-html=\"calandarTitle\"\n        v-if=\"calandarTitle != ''\"\n      ></div>\n\n      <div class=\"single-date-picker__arrow right\" @click=\"nextMonth\"></div>\n    </div>\n    <ul class=\"d-flex flex-wrap justify-content-center\">\n      <div\n        v-if=\"showDayLabel\"\n        class=\"d-flex flex-wrap justify-content-center w-100\"\n      >\n        <li class=\"date day\">\n          Lun\n        </li>\n        <li class=\"date day\">\n          Mar\n        </li>\n        <li class=\"date day\">\n          Mer\n        </li>\n        <li class=\"date day\">\n          Jeu\n        </li>\n        <li class=\"date day\">\n          Ven\n        </li>\n        <li class=\"date day\">\n          Sam\n        </li>\n        <li class=\"date day\">\n          Dim\n        </li>\n      </div>\n      <li\n        v-for=\"(date, i) in listCalanderDays\"\n        :key=\"i\"\n        :class=\"[\n          'date',\n          date.status ? 'actif' : 'disable',\n          date.custom_class,\n          date.select ? 'selected' : ''\n        ]\"\n        @click=\"selectDate(date)\"\n      >\n        <span v-html=\"date.date\"></span>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from \"vuex\";\nimport calendar from \"./js/calendar.js\";\nimport Utilities from \"../../js/Utilities\";\nexport default {\n  name: \"Calendar\",\n  props: {\n    showCalandar: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      /**\n       * List calendar date, elle gere l'affichage du calendrier.\n       */\n      listCalanderDays: [],\n      calendarNav: 0,\n      calandarTitle: \"\",\n      /**\n       * Configuration de la date.\n       */\n      showMonthInDate: false,\n      showDayLabel: true,\n      dateSelect: null\n    };\n  },\n  computed: {\n    ...mapGetters([\"appDate\"]),\n    ...mapState([\n      \"activeType\",\n      \"creneauConfigs\",\n      \"creneauFilters\",\n      \"creneauType\",\n      \"creneauCollecte\",\n      \"creneauLivraison\"\n    ]),\n    /**\n     * Permet de demarer le calendrier.\n     * Si nous sommes dans le cas de la collecte, on utilise la date par defaut.\n     * Si on est dans la livraison on utilise la date definit par la collecte.\n     */\n    initCreneau() {\n      console.log(\"initCreneau : \", this.type);\n      if (this.type === Utilities.crex1.id) {\n        if (this.appDate) {\n          this.buildCalendar();\n          return this.appDate;\n        }\n      } else if (this.type === Utilities.crex2.id) {\n        if (this.creneauCollecte.date_string) {\n          this.buildCalendar();\n          return this.creneauCollecte.date_string;\n        }\n      }\n      return null;\n    },\n    /**\n     * Re-initialise le creneau livaison si l'utilisateur change la date de livraison ou si l'utilisateur change de type de livraison.\n     */\n    ReInitCreneauLivraison() {\n      if (this.creneauCollecte.date_string && this.currentCreneauType) {\n        if (this.type === Utilities.crex2.id) {\n          this.emptyCurentDateSelect();\n        }\n      }\n      return this.creneauCollecte.date_string;\n    },\n\n    /**\n     * Permet de selectionner une date par defaut ou lorque le calendrier change change.\n     * On met à jour la date creneauInfo[this.type].date si ce dernier est null.\n     * Si creneauInfo[this.type].date n'est pas null, alors l'utilisateur a deja selectionné une date.\n     *\n     */\n    updateCurrentDateSelect() {\n      if (this.listCalanderDays.length) {\n        if (this.type == Utilities.crex1.id) {\n          if (!this.creneauCollecte.date_string) {\n            this.selectFirstActiveDate();\n          } else {\n            this.selectEgalActiveDate();\n          }\n        }\n        if (this.type == Utilities.crex2.id) {\n          if (!this.creneauLivraison.date_string) {\n            this.selectFirstActiveDate();\n          } else {\n            this.selectEgalActiveDate();\n          }\n        }\n\n        return this.listCalanderDays.length;\n      }\n      return null;\n    },\n    /**\n     * -\n     */\n    currentCreneauType() {\n      return this.creneauType[this.activeType];\n    }\n  },\n  methods: {\n    emptyCurentDateSelect() {\n      this.$store.dispatch(\"SetSelectDate\", this.BuildPayload(false));\n      this.calendarNav = 0;\n    },\n    BuildPayload(val) {\n      return {\n        type: this.type,\n        date_string: val\n      };\n    },\n    /**\n     * Selectionne la premiere date active,\n     * s'il nya pas de date active, dans le mois en cours, on incremente le mois.\n     */\n    selectFirstActiveDate() {\n      for (const i in this.listCalanderDays) {\n        const e = this.listCalanderDays[i];\n        if (e.status) {\n          e.select = true;\n          this.$store.dispatch(\n            \"SetSelectDate\",\n            this.BuildPayload(e.date_string)\n          );\n          break;\n        }\n        var ii = parseInt(i) + 1;\n        //si on a parcourut tout le tableau sans trouve de valeur active, on prend le prochain mois.\n        if (this.listCalanderDays.length === ii) this.nextMonth();\n      }\n    },\n    /**\n     * permet de selectionner la prochaine date valide.\n     *  - utiliser par les hours lorsque les horaires de la journée sont epuisées.\n     */\n    selectSpecifiqDateActive(ref = 1) {\n      var active = 0;\n      for (const i in this.listCalanderDays) {\n        const e = this.listCalanderDays[i];\n        if (e.status) {\n          if (active == ref && active < 5) {\n            e.select = true;\n            this.$store.dispatch(\n              \"SetSelectDate\",\n              this.BuildPayload(e.date_string)\n            );\n            break;\n          } else {\n            e.select = false;\n            e.status = false;\n          }\n          active++;\n        }\n        var ii = parseInt(i) + 1;\n        //si on a parcourut tout le tableau sans trouve de valeur active, on prend le prochain mois.\n        if (this.listCalanderDays.length === ii) this.nextMonth();\n      }\n    },\n    /**\n     * Cette function permet de selectionner la cellule sur le calendrier == la date precedament selectionné.\n     * Elle declanche selectFirstActiveDate() si la date selectionné est desactivé;\n     */\n    selectEgalActiveDate() {\n      for (const i in this.listCalanderDays) {\n        const e = this.listCalanderDays[i];\n        if (this.type === Utilities.crex1.id)\n          if (e.date_string === this.creneauCollecte.date_string) {\n            if (!e.status) this.selectFirstActiveDate();\n            else e.select = true;\n            break;\n          }\n        if (this.type === Utilities.crex2.id)\n          if (e.date_string === this.creneauLivraison.date_string) {\n            if (!e.status) this.selectFirstActiveDate();\n            else e.select = true;\n            break;\n          }\n        // Pour permettre à la livraison de toujours selectionné une date.\n\n        var ii = parseInt(i) + 1;\n        if (\n          this.listCalanderDays.length == ii &&\n          this.type === Utilities.crex2.id\n        ) {\n          //this.selectFirstActiveDate();\n        }\n      }\n    },\n    selectDate(date) {\n      if (!date.status) return false;\n      this.listCalanderDays.forEach(e => {\n        e.select = false;\n      });\n      date.select = true;\n      this.$store.dispatch(\n        \"SetSelectDate\",\n        this.BuildPayload(date.date_string)\n      );\n    },\n    previowMonth() {\n      this.calendarNav--;\n    },\n    nextMonth() {\n      this.calendarNav++;\n    },\n    buildCalendar() {\n      var date, appDate;\n      if (this.type === Utilities.crex1.id) {\n        date = moment(this.appDate).add(this.calendarNav, \"month\");\n        appDate = this.appDate;\n      } else {\n        date = moment(this.creneauCollecte.date_string, \"YYYY-MM-DD\").add(\n          this.calendarNav,\n          \"month\"\n        );\n        appDate = moment(this.creneauCollecte.date_string, \"YYYY-MM-DD\");\n      }\n      // Build calendar.\n      const cal = new calendar(\n        date,\n        appDate,\n        this.type,\n        this.creneauConfigs,\n        this.currentCreneauType,\n        this.creneauFilters\n      );\n      // demande la liste des creneaux deja reservés pour le mois encours.\n      this.$store.dispatch(\"getCreneauxExterne\", date.format(\"YYYY-MM\"));\n      // demarre la construction des tableaux de dates.\n      cal.buildDaysOfMonth();\n      this.listCalanderDays = cal.dates;\n      // Display current mois\n      this.calandarTitle = moment(date)\n        .locale(\"fr\")\n        .format(\"MMMM  YYYY\");\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.single-date-picker__calendar-month-header {\n  padding: 14px 25px;\n  background-image: linear-gradient(to right, #007bff, #56a5fa, #007bff);\n  display: flex;\n  justify-content: space-between;\n  border-radius: 10px 10px 0 0;\n  align-items: center;\n  color: #ffffff;\n  .single-date-picker__arrow {\n    border-left: 3px solid #fff;\n    border-top: 3px solid #fff;\n    width: 18px;\n    height: 18px;\n  }\n  .left {\n    transform: rotate(-45deg);\n  }\n  .right {\n    transform: rotate(135deg);\n  }\n  .single-date-picker__year {\n    font-weight: 900;\n    font-size: 20px;\n    text-transform: capitalize;\n  }\n  .single-date-picker__arrow {\n    cursor: pointer;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./calendar.vue?vue&type=template&id=67a654e8&\"\nimport script from \"./calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./calendar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticStyle:{\"enable-background\":\"new 0 0 122.88 122.88\"},attrs:{\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 122.88 122.88\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M81.61,4.73c0-2.61,2.58-4.73,5.77-4.73c3.19,0,5.77,2.12,5.77,4.73v20.72c0,2.61-2.58,4.73-5.77,4.73 c-3.19,0-5.77-2.12-5.77-4.73V4.73L81.61,4.73z M66.11,103.81c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2H81.9 c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H66.11L66.11,103.81z M15.85,67.09c-0.34,0-0.61-1.43-0.61-3.2 c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H15.85L15.85,67.09z M40.98,67.09 c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H40.98 L40.98,67.09z M66.11,67.09c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2H81.9c0.34,0,0.61,1.43,0.61,3.2 c0,1.77-0.27,3.2-0.61,3.2H66.11L66.11,67.09z M91.25,67.09c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2h15.79 c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H91.25L91.25,67.09z M15.85,85.45c-0.34,0-0.61-1.43-0.61-3.2 c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H15.85L15.85,85.45z M40.98,85.45 c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H40.98 L40.98,85.45z M66.11,85.45c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2H81.9c0.34,0,0.61,1.43,0.61,3.2 c0,1.77-0.27,3.2-0.61,3.2H66.11L66.11,85.45z M91.25,85.45c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2h15.79 c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H91.25L91.25,85.45z M15.85,103.81c-0.34,0-0.61-1.43-0.61-3.2 c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H15.85L15.85,103.81z M40.98,103.81 c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H40.98 L40.98,103.81z M29.61,4.73c0-2.61,2.58-4.73,5.77-4.73s5.77,2.12,5.77,4.73v20.72c0,2.61-2.58,4.73-5.77,4.73 s-5.77-2.12-5.77-4.73V4.73L29.61,4.73z M6.4,45.32h110.07V21.47c0-0.8-0.33-1.53-0.86-2.07c-0.53-0.53-1.26-0.86-2.07-0.86H103 c-1.77,0-3.2-1.43-3.2-3.2c0-1.77,1.43-3.2,3.2-3.2h10.55c2.57,0,4.9,1.05,6.59,2.74c1.69,1.69,2.74,4.02,2.74,6.59v27.06v65.03 c0,2.57-1.05,4.9-2.74,6.59c-1.69,1.69-4.02,2.74-6.59,2.74H9.33c-2.57,0-4.9-1.05-6.59-2.74C1.05,118.45,0,116.12,0,113.55V48.52 V21.47c0-2.57,1.05-4.9,2.74-6.59c1.69-1.69,4.02-2.74,6.59-2.74H20.6c1.77,0,3.2,1.43,3.2,3.2c0,1.77-1.43,3.2-3.2,3.2H9.33 c-0.8,0-1.53,0.33-2.07,0.86c-0.53,0.53-0.86,1.26-0.86,2.07V45.32L6.4,45.32z M116.48,51.73H6.4v61.82c0,0.8,0.33,1.53,0.86,2.07 c0.53,0.53,1.26,0.86,2.07,0.86h104.22c0.8,0,1.53-0.33,2.07-0.86c0.53-0.53,0.86-1.26,0.86-2.07V51.73L116.48,51.73z M50.43,18.54 c-1.77,0-3.2-1.43-3.2-3.2c0-1.77,1.43-3.2,3.2-3.2h21.49c1.77,0,3.2,1.43,3.2,3.2c0,1.77-1.43,3.2-3.2,3.2H50.43L50.43,18.54z\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <svg\n    version=\"1.1\"\n    id=\"Layer_1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    x=\"0px\"\n    y=\"0px\"\n    viewBox=\"0 0 122.88 122.88\"\n    style=\"enable-background:new 0 0 122.88 122.88\"\n    xml:space=\"preserve\"\n  >\n    <g>\n      <path\n        d=\"M81.61,4.73c0-2.61,2.58-4.73,5.77-4.73c3.19,0,5.77,2.12,5.77,4.73v20.72c0,2.61-2.58,4.73-5.77,4.73 c-3.19,0-5.77-2.12-5.77-4.73V4.73L81.61,4.73z M66.11,103.81c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2H81.9 c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H66.11L66.11,103.81z M15.85,67.09c-0.34,0-0.61-1.43-0.61-3.2 c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H15.85L15.85,67.09z M40.98,67.09 c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H40.98 L40.98,67.09z M66.11,67.09c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2H81.9c0.34,0,0.61,1.43,0.61,3.2 c0,1.77-0.27,3.2-0.61,3.2H66.11L66.11,67.09z M91.25,67.09c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2h15.79 c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H91.25L91.25,67.09z M15.85,85.45c-0.34,0-0.61-1.43-0.61-3.2 c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H15.85L15.85,85.45z M40.98,85.45 c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H40.98 L40.98,85.45z M66.11,85.45c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2H81.9c0.34,0,0.61,1.43,0.61,3.2 c0,1.77-0.27,3.2-0.61,3.2H66.11L66.11,85.45z M91.25,85.45c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2h15.79 c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H91.25L91.25,85.45z M15.85,103.81c-0.34,0-0.61-1.43-0.61-3.2 c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H15.85L15.85,103.81z M40.98,103.81 c-0.34,0-0.61-1.43-0.61-3.2c0-1.77,0.27-3.2,0.61-3.2h15.79c0.34,0,0.61,1.43,0.61,3.2c0,1.77-0.27,3.2-0.61,3.2H40.98 L40.98,103.81z M29.61,4.73c0-2.61,2.58-4.73,5.77-4.73s5.77,2.12,5.77,4.73v20.72c0,2.61-2.58,4.73-5.77,4.73 s-5.77-2.12-5.77-4.73V4.73L29.61,4.73z M6.4,45.32h110.07V21.47c0-0.8-0.33-1.53-0.86-2.07c-0.53-0.53-1.26-0.86-2.07-0.86H103 c-1.77,0-3.2-1.43-3.2-3.2c0-1.77,1.43-3.2,3.2-3.2h10.55c2.57,0,4.9,1.05,6.59,2.74c1.69,1.69,2.74,4.02,2.74,6.59v27.06v65.03 c0,2.57-1.05,4.9-2.74,6.59c-1.69,1.69-4.02,2.74-6.59,2.74H9.33c-2.57,0-4.9-1.05-6.59-2.74C1.05,118.45,0,116.12,0,113.55V48.52 V21.47c0-2.57,1.05-4.9,2.74-6.59c1.69-1.69,4.02-2.74,6.59-2.74H20.6c1.77,0,3.2,1.43,3.2,3.2c0,1.77-1.43,3.2-3.2,3.2H9.33 c-0.8,0-1.53,0.33-2.07,0.86c-0.53,0.53-0.86,1.26-0.86,2.07V45.32L6.4,45.32z M116.48,51.73H6.4v61.82c0,0.8,0.33,1.53,0.86,2.07 c0.53,0.53,1.26,0.86,2.07,0.86h104.22c0.8,0,1.53-0.33,2.07-0.86c0.53-0.53,0.86-1.26,0.86-2.07V51.73L116.48,51.73z M50.43,18.54 c-1.77,0-3.2-1.43-3.2-3.2c0-1.77,1.43-3.2,3.2-3.2h21.49c1.77,0,3.2,1.43,3.2,3.2c0,1.77-1.43,3.2-3.2,3.2H50.43L50.43,18.54z\"\n      />\n    </g>\n  </svg>\n</template>\n\n<script>\nexport default {\n  name: \"SvgCalandar\"\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgCalandar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgCalandar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SvgCalandar.vue?vue&type=template&id=92fb9028&\"\nimport script from \"./SvgCalandar.vue?vue&type=script&lang=js&\"\nexport * from \"./SvgCalandar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    :class=\"classes\"\n    class=\"rectangle mx-2 mx-md-0 mb-3 mb-md-0 mx-3 pt-4 pl-sm-3 col-md-6\"\n  >\n    <div class=\"title-creneau h2\">{{ title }}</div>\n    <div\n      class=\" d-flex justify-content-between justify-content-md-start line-creneau h1 \"\n    >\n      <hours :type=\"type\" @selectNextDay=\"selectNextDay\"></hours>\n\n      <i\n        class=\"icone-svg mb-md-1 mb-lg-2 cursor-pointer\"\n        @click=\"showCalandar = !showCalandar\"\n      >\n        <SvgCalandar></SvgCalandar>\n      </i>\n    </div>\n\n    <p @click=\"showCalandar = !showCalandar\" class=\"cursor-pointer\">\n      {{ appDateDisplay }}\n    </p>\n    <div\n      class=\"over-container-date\"\n      v-if=\"showCalandar\"\n      @click=\"showCalandar = !showCalandar\"\n    ></div>\n    <calendar\n      :show-calandar=\"showCalandar\"\n      :type=\"type\"\n      ref=\"calendar\"\n    ></calendar>\n    <!--\n    <pre v-if=\"type == 'livraison'\">\n      creneauLivraison {{ creneauLivraison }}\n    </pre>\n    <pre v-if=\"type == 'collecte'\">\n      creneauCollecte {{ creneauCollecte }}\n    </pre>\n-->\n  </div>\n</template>\n<script>\nimport { mapState } from \"vuex\";\nimport hours from \"./Hours.vue\";\nimport calendar from \"./calendar.vue\";\nimport SvgCalandar from \"./SvgCalandar.vue\";\n\nexport default {\n  name: \"Creneau\",\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    classes: {\n      type: String,\n      default: \"rond-left\"\n    },\n    type: {\n      type: String,\n      required: true\n    }\n  },\n  components: {\n    hours,\n    calendar,\n    SvgCalandar\n  },\n  data() {\n    return {\n      showCalandar: false\n    };\n  },\n\n  /**\n   * Date affiché.\n   */\n\n  computed: {\n    ...mapState([\"creneauCollecte\", \"creneauLivraison\", \"creneauConfigs\"]),\n    appDateDisplay: {\n      get() {\n        if (this.type === \"livraison\" && this.creneauLivraison.date_string) {\n          return moment(this.creneauLivraison.date_string, \"YYYY-MM-DD\")\n            .locale(\"fr\")\n            .format(\"dddd Do MMMM\");\n        } else if (\n          this.type === \"collecte\" &&\n          this.creneauCollecte.date_string\n        ) {\n          return moment(this.creneauCollecte.date_string, \"YYYY-MM-DD\")\n            .locale(\"fr\")\n            .format(\"dddd Do MMMM\");\n        }\n        return \"\";\n      }\n    }\n  },\n  methods: {\n    selectNextDay() {\n      this.$refs.calendar.selectSpecifiqDateActive();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creneau.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./creneau.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./creneau.vue?vue&type=template&id=f2ca21c8&\"\nimport script from \"./creneau.vue?vue&type=script&lang=js&\"\nexport * from \"./creneau.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import store from \"../../store/index\";\nimport { AjaxBasic } from \"wbuutilities\";\nexport default {\n  show_cover: false,\n  cart: null,\n  creneauTypes: store.state.creneauType,\n  creneauConfigs: store.state.creneauConfigs,\n  /**\n   * Coontient la valeur de type de livraison dans la panier.\n   */\n  CartTypeLivraison: \"\",\n  /**\n   * Contient la valeur courante de type de livraiosn.( valeur fournit par la configuration ).\n   * ne doit pas etre vide avant la vilidation.\n   * (sinitialise des le debut)\n   */\n  TypeLivraison: {},\n  show_alert: false,\n  creneauCollecte: store.state.creneauCollecte,\n  creneauLivraison: store.state.creneauLivraison,\n  location: store.state.location,\n  alert_attribut_class: \"alert-primary\",\n  /**\n   *\n   * @param {*} cents\n   * @param {*} format\n   * @returns\n   */\n  ShopifyFormatMoney(cents, format) {\n    var value = \"\",\n      placeholderRegex = /\\{\\{\\s*(\\w+)\\s*\\}\\}/,\n      formatString = format || this.money_format;\n    if (typeof cents == \"string\") {\n      cents = cents.replace(\".\", \"\");\n    }\n    function defaultOption(opt, def) {\n      return typeof opt == \"undefined\" ? def : opt;\n    }\n    function formatWithDelimiters(number, precision, thousands, decimal) {\n      precision = defaultOption(precision, 2);\n      thousands = defaultOption(thousands, \",\");\n      decimal = defaultOption(decimal, \".\");\n      if (isNaN(number) || number == null) {\n        return 0;\n      }\n      number = (number / 100.0).toFixed(precision);\n      var parts = number.split(\".\"),\n        dollars = parts[0].replace(\n          /(\\d)(?=(\\d\\d\\d)+(?!\\d))/g,\n          \"$1\" + thousands\n        ),\n        cents = parts[1] ? decimal + parts[1] : \"\";\n      return dollars + cents;\n    }\n    switch (formatString.match(placeholderRegex)[1]) {\n      case \"amount\":\n        value = formatWithDelimiters(cents, 2);\n        break;\n      case \"amount_no_decimals\":\n        value = formatWithDelimiters(cents, 0);\n        break;\n      case \"amount_with_comma_separator\":\n        value = formatWithDelimiters(cents, 2, \".\", \",\");\n        break;\n      case \"amount_no_decimals_with_comma_separator\":\n        value = formatWithDelimiters(cents, 0, \".\", \",\");\n        break;\n    }\n    return formatString.replace(placeholderRegex, value);\n  },\n  addProduct: function(id_product, qte = 1) {\n    this.show_cover = true;\n    return new Promise((resolv, reject) => {\n      this.show_cover = true;\n      AjaxBasic.post(\"/cart/add\", {\n        id: id_product,\n        quantity: qte\n      })\n        .then(resp => {\n          this.show_cover = false;\n          resolv(resp);\n        })\n        .catch(() => {\n          this.show_cover = false;\n          reject(false);\n        });\n    });\n  },\n  async verification() {\n    store.state.alert_message = \"\";\n    this.show_alert = false;\n    //var test1 = await this.verificationTypeLivraison();\n    var test2 = await this.VerificationCrenaux();\n    var test3 = await this.VerificationAddress();\n    var test4 = await this.ValidationMontant();\n    if (test2 && test3 && test4) {\n      return true;\n    } else {\n      this.show_alert = true;\n      this.alert_attribut_class = \"alert-danger ml-md-4\";\n      return false;\n    }\n  },\n  async VerificationCrenaux() {\n    var livraison = true;\n    var collecte = true;\n    if (!this.creneauCollecte.date || !this.creneauCollecte.hour) {\n      collecte = false;\n      store.state.alert_message +=\n        \"- Vous devez selectionner un creneau pour la collecte.<br />\";\n    }\n    if (!this.creneauLivraison.date || !this.creneauLivraison.date) {\n      livraison = false;\n      store.state.alert_message +=\n        \"- Vous devez selectionner un creneau pour la livraison.<br />\";\n    }\n\n    if (livraison && collecte) return true;\n    else return false;\n  },\n  /**\n   *\n   * @returns\n   */\n  async VerificationAddress() {\n    if (this.location.current_address) {\n      return true;\n    } else {\n      store.state.alert_message +=\n        \" - Vous devez selectionner une adresse. <br /> \";\n      return false;\n    }\n  },\n  /**\n   * Valide le montant dans le panier.\n   */\n  async ValidationMontant() {\n    const montantMin = parseFloat(this.creneauConfigs.montant_min) * 10;\n    var formatString = str => {\n      var regex = /\\{\\{(.*?)\\}\\}/g;\n      let found;\n      var int = 0;\n      while ((found = regex.exec(str)) !== null && int < 10) {\n        int++;\n        var attr = found[1].trim(\" \");\n        str = str.replace(\n          found[0],\n          this.creneauConfigs[attr] !== undefined\n            ? this.creneauConfigs[attr]\n            : \"...\"\n        );\n      }\n      return str;\n    };\n    if (montantMin >= this.cart.total_price) {\n      store.state.alert_message += formatString(\n        this.creneauConfigs.text_alert_montant_min\n      );\n      return false;\n    }\n    return true;\n  },\n  async buildAttribut() {\n    //\n    var livraison = \"Livraison\";\n    livraison += \"\\r\\n\";\n    livraison +=\n      \"Date :\" + this.creneauLivraison.date.format(\"DD-MM-YYYY HH:mm:ss\");\n    livraison += \"\\r\\n\";\n    livraison +=\n      \"Creneau :\" +\n      this.creneauLivraison.hour.begin +\n      \" - \" +\n      this.creneauLivraison.hour.end;\n    //\n    var collecte = \"Collecte\";\n    collecte += \"\\r\\n\";\n    collecte +=\n      \"Date :\" + this.creneauCollecte.date.format(\"DD-MM-YYYY HH:mm:ss\");\n    collecte += \"\\r\\n\";\n    collecte +=\n      \"Creneau :\" +\n      this.creneauCollecte.hour.begin +\n      \" - \" +\n      this.creneauCollecte.hour.end;\n    /**\n     * Données pour format Zapier\n     */\n    var z_collecte_date = this.creneauCollecte.date.format(\"DD-MM-YYYY\");\n    var z_collecte_heure =\n      this.creneauCollecte.hour.begin + \" - \" + this.creneauCollecte.hour.end;\n    //\n    var z_livraison_date = this.creneauLivraison.date.format(\"DD-MM-YYYY\");\n    var z_livraison_heure =\n      this.creneauLivraison.hour.begin + \" - \" + this.creneauLivraison.hour.end;\n    return {\n      attributes: {\n        localisation: this.location.current_address,\n        recuperation: collecte,\n        livraison: livraison,\n        z_collecte_date: z_collecte_date,\n        z_collecte_heure: z_collecte_heure,\n        z_livraison_date: z_livraison_date,\n        z_livraison_heure: z_livraison_heure\n      }\n    };\n  },\n  SaveAttributeCart(datas) {\n    return new Promise((resolv, reject) => {\n      this.show_cover = true;\n      AjaxBasic.post(\"/cart/update\", datas)\n        .then(r => {\n          this.show_cover = false;\n          resolv(r);\n        })\n        .catch(e => {\n          this.show_cover = false;\n          if (AjaxBasic.isLocalDev) resolv(e);\n          else reject();\n        });\n    });\n  },\n  /**\n   * -\n   */\n  saveOnExternalServer(datas) {\n    return new Promise((resolv, reject) => {\n      AjaxBasic.post(\n        \"https://habeuk.online/shopify-api-rest/add-creneau-reserve\",\n        datas.attributes,\n        { params: { shop: window.ShopId } }\n      )\n        .then(r => {\n          resolv(r);\n        })\n        .catch(e => {\n          reject();\n        });\n    });\n  },\n  triggerCheckout() {\n    document.querySelector(\".creneaux-mbt .cart-checkout .submit-cart\").click();\n    console.log(\n      \"verfication de la presence du bouton formulaire \",\n      document.querySelector(\".creneaux-mbt .cart-checkout .submit-cart\")\n    );\n  },\n  /**\n   * Supprime un produit / ou supprime et ajoute un autre.( modifier la variante)\n   */\n  deleteUpdateProduct(id_product, new_product = null) {\n    return new Promise((resolve, reject) => {\n      var product = {\n        updates: {}\n      };\n      this.show_cover = true;\n      product.updates[id_product] = 0;\n      AjaxBasic.post(\"/cart/update\", product)\n        .then(() => {\n          if (new_product) {\n            resolve(this.addProduct(new_product));\n          } else {\n            this.show_cover = false;\n            resolve(true);\n          }\n        })\n        .catch(() => {\n          this.show_cover = false;\n          reject();\n        });\n    });\n  }\n};\n","import defaultOptions from \"./defaultOptions\";\nimport { AjaxBasic } from \"wbuutilities\";\nimport store from \"../../store\";\nAjaxBasic.TestDomain = \"http://habeuk.kksa\";\n\nexport default {\n  ...defaultOptions,\n  /**\n   *\n   * @param {*} prefertCartProductLivraison\n   */\n  async initcreneau(prefertCartProductLivraison) {\n    //on modifie les html\n    this.HideStaticLoading();\n    // On charge la panier.\n    var status_cart = await this.loadcart();\n    if (status_cart) {\n      await this.getProductType();\n      /**\n       * Si les deux id sont different cela peut traduire que l'utilisateur a precedamant fait * une autre selection.\n       * Bref : on concerve la valeur presente dans la panier.\n       */\n      if (this.TypeLivraison) {\n        if (\n          this.CartTypeLivraison &&\n          this.CartTypeLivraison.id &&\n          this.CartTypeLivraison.id !== this.TypeLivraison.id\n        ) {\n          // si le produit qui est dans la panier est different de celui qui est selectionné, et que nous sommes à l'initialisation,\n          // on garde la valeur dans le panier.\n          if (prefertCartProductLivraison)\n            this.apply_type_livraison_by_id(this.CartTypeLivraison.id);\n          // si non, on retire le produit qui est dans le panier et on applique le nouveau.\n          await this.deleteUpdateProduct(\n            this.CartTypeLivraison.id,\n            this.TypeLivraison.id\n          );\n          // on met à jour le panier.\n          await this.loadcart();\n        }\n        // si le panier ne contient pas de produit de livraison.\n        else if (this.TypeLivraison && !this.CartTypeLivraison.id) {\n          await this.addDefaultProductTypeLivraison();\n        }\n        // on ecoute l'evenement\n        this.setEvant();\n      }\n    }\n  },\n  HideStaticLoading() {\n    //$(\".londing-cover.static\").fadeOut(600);\n  },\n  /**\n   * Charge le panier.\n   * Retourne true si la requte est terminée avec succes et false si non.\n   */\n  loadcart() {\n    return new Promise((resolve, reject) => {\n      this.show_cover = true;\n      AjaxBasic.get(\"/cart.js\")\n        .then(cart => {\n          console.log(\"Panier textStatus : \", cart);\n          this.show_cover = false;\n          this.cart = cart.data;\n          resolve(true);\n        })\n        .catch(() => {\n          if (AjaxBasic.isLocalDev) resolve(false);\n          else reject();\n        });\n    });\n  },\n\n  /**\n   * Permet de comparer le type de livraison dans le panier et celui en affichage.\n   * Retourne  le product (type de livraison) actuelement present dans le panier.\n   * @return l'object (type de livraison) ou false, si cest vide.\n   */\n  async getProductType() {\n    if (this.cart && this.cart.item_count > 0) {\n      const typeLivraisonIds = this.typeLivraisonIds();\n      for (const i in this.cart.items) {\n        var product = this.cart.items[i];\n        if (typeLivraisonIds.includes(product.id)) {\n          this.CartTypeLivraison = product;\n          return product;\n        }\n      }\n    } else {\n      return false;\n    }\n  },\n  typeLivraisonIds() {\n    var ids = [];\n    this.creneauTypes.forEach(type => {\n      ids.push(type.id);\n    });\n    return ids;\n  },\n  /**\n   * Applique un type de livraison.\n   * Ce type de livraison est fournit par le panier.(produit precedament selectionne par le client )\n   */\n  apply_type_livraison_by_id(id) {\n    for (const i in this.creneauTypes) {\n      if (id == this.creneauTypes[i].id) {\n        store.dispatch(\"SelectTypeTab\", parseInt(i));\n      }\n    }\n  },\n  /**\n   * Ajoute le produit permettant de definir le mode de livraiosn,\n   * s\"execute si le mode de livraiosn n'est pas definit.\n   */\n  async addDefaultProductTypeLivraison() {\n    await this.addProduct(this.TypeLivraison.id);\n    await this.loadcart();\n    //await this.getProductType();\n  },\n  /**\n   * Permet à un programme externe/interne d'execute le processus de sauvegarde.\n   */\n  setEvant() {\n    const bt = document.querySelector(\".btn.submit-cart-test\");\n    bt.classList.add(\"d-inline-block\");\n    bt.addEventListener(\"click\", () => {\n      bt.querySelector(\"i.fa-arrow-right\").classList.add(\"d-none\");\n      bt.querySelector(\"i.fa-refresh\").classList.remove(\"loadding\");\n      bt.querySelector(\"i.fa-refresh\").classList.add(\"fa-spin\");\n      this.SaveCreneau(bt);\n    });\n    document.addEventListener(\"SaveCreneauxChechout\", () => {\n      this.SaveCreneau(elem);\n    });\n  },\n  /**\n   * Processus de sauvegarde.\n   */\n  async SaveCreneau(elem = null) {\n    var test = await this.verification();\n    if (test) {\n      var attribut = await this.buildAttribut();\n      await this.SaveAttributeCart(attribut);\n      this.saveOnExternalServer(attribut);\n      //on verifie que le panier est ok.\n      await this.loadcart();\n      if (\n        (this.cart && this.cart.attributes && this.cart.attributes.livraison) ||\n        !this.app_env_prod\n      ) {\n        elem.querySelector(\"i.fa-arrow-right\").classList.remove(\"d-none\");\n        elem.querySelector(\"i.fa-refresh\").classList.add(\"loadding\");\n        //this.triggerCheckout();\n      } else {\n        elem.classList.add(\"bg-danger\");\n        this.show_alert = true;\n        this.alert_attribut_class = \"alert-danger ml-md-4\";\n        store.state.alert_message +=\n          '- Une erreur s\"est produite lors de la sauvegarde de vos informations. <br /> Verifier votre connexion et actualiser la page <br />';\n        return false;\n      }\n    } else {\n      if (elem) {\n        elem.classList.add(\"bg-danger\");\n        elem.querySelector(\"i.fa-refresh\").classList.add(\"loadding\");\n        console.log(\"store.state.alert_message : \", store.state.alert_message);\n      }\n    }\n  }\n};\n","<template>\n  <div class=\"creneaux-mbt\">\n    <div class=\"container first-block\" :currentCreneauType=\"currentCreneauType\">\n      <div class=\"creneaux-mbt--block mt-5\">\n        <app-title></app-title>\n        <div\n          class=\"alert alert-danger\"\n          v-if=\"alert_message && alert_message != ''\"\n        >\n          {{ alert_message }}\n        </div>\n        <div class=\"block-left\">\n          <tab-option></tab-option>\n        </div>\n        <div class=\"block-border\">\n          <div class=\"row font-weight-bold type-livraison mb-2\">\n            <inline-description></inline-description>\n          </div>\n          <div class=\"row d-flex justify-content-start commande-detail mb-5\">\n            <div\n              class=\" rectangle rond-left rond-right mx-3 mx-md-0 mb-3 mb-md-0  ml-md-5  mr-lg-5  pt-3  pl-3 pr-3 col-md-3 \"\n            >\n              <div class=\"h2 cursor-pointer\">ADRESSE</div>\n              <div\n                class=\"d-flex justify-content-between justify-content-md-start align-items-center\"\n              >\n                <mapGoogle></mapGoogle>\n                <div class=\"icone-map\">\n                  <!-- <map-calandar-svg></map-calandar-svg> -->\n                </div>\n              </div>\n            </div>\n            <div class=\"col-md-7\">\n              <div class=\"row ml-md-4 h-100\">\n                <creneau title=\"Collecte\" type=\"collecte\"></creneau>\n                <creneau\n                  title=\"Livraison\"\n                  classes=\"rond-right\"\n                  type=\"livraison\"\n                ></creneau>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppTitle from \"./components/creneau/AppTitle.vue\";\nimport InlineDescription from \"./components/creneau/InlineDescription.vue\";\nimport TabOption from \"./components/creneau/TabOption.vue\";\nimport mapGoogle from \"./components/creneau/map-google.vue\";\nimport creneau from \"./components/creneau/creneau.vue\";\nimport { mapState } from \"vuex\";\nimport shopifyCart from \"./js/shopifyCart\";\n\nexport default {\n  name: \"App\",\n  props: {\n    /**\n     * Date du jour.\n     */\n    dateDuJour: {\n      type: [String, Object, Date],\n      required: true\n    }\n  },\n  components: { TabOption, InlineDescription, AppTitle, mapGoogle, creneau },\n  data() {\n    return {\n      CreneauTypeProductId: null, // permet de reduire l'execution que si un nouveau elment est choisit.\n      initAuto: true //permet de differentier le comportement auto et le click de l'utilisateur.(true => action auto ).\n    };\n  },\n  mounted() {\n    //const d = moment(\"4-08-2021 18:00:00\", \"DD-MM-YYYY HH:mm:ss\");\n    const d = moment(this.dateDuJour, \"DD-MM-YYYY HH:mm:ss\");\n    //const d = moment();\n    if (d._isValid) this.$store.dispatch(\"SetDateDuJour\", d);\n  },\n  /**\n   * Date affiché.\n   */\n\n  computed: {\n    ...mapState([\"creneauType\", \"activeType\", \"alert_message\"]),\n    appDateDisplay: {\n      get() {\n        if (this.type === \"livraison\" && this.creneauLivraison.date_string) {\n          return moment(this.creneauLivraison.date_string, \"YYYY-MM-DD\")\n            .locale(\"fr\")\n            .format(\"dddd Do MMMM\");\n        } else if (\n          this.type === \"collecte\" &&\n          this.creneauCollecte.date_string\n        ) {\n          return moment(this.creneauCollecte.date_string, \"YYYY-MM-DD\")\n            .locale(\"fr\")\n            .format(\"dddd Do MMMM\");\n        }\n        return \"\";\n      }\n    },\n    /**\n     * -\n     */\n    currentCreneauType() {\n      this.initManageCart(this.creneauType[this.activeType]);\n      return this.creneauType[this.activeType];\n    }\n  },\n  methods: {\n    async initManageCart(currentCreneauType) {\n      if (this.CreneauTypeProductId !== currentCreneauType.id) {\n        this.CreneauTypeProductId = currentCreneauType.id;\n        shopifyCart.TypeLivraison = currentCreneauType;\n        await shopifyCart.initcreneau(this.initAuto);\n        this.initAuto = false;\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\">\n@import \"./scss/default.scss\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCreneau.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCreneau.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCreneau.vue?vue&type=template&id=79fd019e&\"\nimport script from \"./UserCreneau.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCreneau.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserCreneau.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin"],"sourceRoot":""}